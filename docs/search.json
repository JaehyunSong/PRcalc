[
  {
    "objectID": "memo.html",
    "href": "memo.html",
    "title": "PRcalc",
    "section": "",
    "text": "index()の計算式は適当に入れたので、今度見直す\n\n多分、全体的に間違っているはず\n\nindex()における未対応指標\n\nFragnelliとGambarelli & Biella\nこれら要る???\n\ndecompose()関数実装\nplot()メソッドにおけるX軸テキストの回転機能（angle引数）\nindex()、decompose()において分母に0が入ることもあるが、これはどうする？",
    "crumbs": [
      "Memo"
    ]
  },
  {
    "objectID": "memo.html#memo",
    "href": "memo.html#memo",
    "title": "PRcalc",
    "section": "",
    "text": "index()の計算式は適当に入れたので、今度見直す\n\n多分、全体的に間違っているはず\n\nindex()における未対応指標\n\nFragnelliとGambarelli & Biella\nこれら要る???\n\ndecompose()関数実装\nplot()メソッドにおけるX軸テキストの回転機能（angle引数）\nindex()、decompose()において分母に0が入ることもあるが、これはどうする？",
    "crumbs": [
      "Memo"
    ]
  },
  {
    "objectID": "index.html#installation",
    "href": "index.html#installation",
    "title": "PRcalc",
    "section": "Installation",
    "text": "Installation\n# If {remotes} is not installed, install {remotes} package.\nremotes::install_github(\"JaehyunSong/PRcalc\")",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "LICENSE.html",
    "href": "LICENSE.html",
    "title": "MIT License",
    "section": "",
    "text": "MIT License\nCopyright (c) 2024 Jaehyun Song,Yuta Kamahara\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.",
    "crumbs": [
      "License"
    ]
  },
  {
    "objectID": "vignettes/06_list_of_indices.html",
    "href": "vignettes/06_list_of_indices.html",
    "title": "List of indices",
    "section": "",
    "text": "\\(p\\): Number of parties\n\\(v_i\\): voteshare of party \\(i\\)\n\\(s_i\\): seatshare of party \\(i\\)\n\n\n\n\n\n\n\n\n\n\nIndex\nID in {PRcalc}\nRule\nNote\n\n\n\n\nD’Hondt (Gallagher 1991)\n\"dhondt\"\n\\(\\mbox{max}_i \\frac{s_i}{v_i}\\)\n\n\n\nMonroe (1994)\n\"monroe\"\n\\(\\sqrt{\\frac{\\sum_i (s_i - v_i)^2}{1 + \\sum_i v_i^2}}\\)\n\n\n\nMaximum absolute deviation\n\"maxdev\"\n\\(\\mbox{max}_i\\{|s_i - v_i|\\}\\)\n\n\n\nRae (1967)\n\"rae\"\n\\(\\frac{1}{p}\\sum_i |s_i - v_i|\\)\n\n\n\nLoosemore & Hanby (1971)\n\"lh\"\n\\(\\frac{1}{2}\\sum_i |s_i - v_i|\\)\n\n\n\nGrofman\n\"grofman\"\n\\(\\frac{1}{e}\\sum_i |s_i - v_i|\\)\n\\(e = \\frac{1}{\\sum_i v_i^2}\\)\n\n\nLijphart\n\"lijphart\"\n\\(\\frac{|s_a - v_a| + |s_b - v_b|}{2}\\)\n\\(v_a &gt; v_b &gt; ...\\)\n\n\nGallagher (1991)\n\"gallagher\"\n\\(\\sqrt{\\frac{1}{2}\\sum_i (s_i - v_i)^2}\\)\n\n\n\nGeneralized Gallagher\n\"g_gallagher\"\n\\(\\sqrt[k]{\\frac{1}{k}\\sum_i (s_i - v_i)^k}\\)\n\n\n\nGatev\n\"gatev\"\n\\(\\sqrt{\\frac{\\sum_i(s_i - v_i)^2}{\\sum_i(s_i^2 + v_i^2)}}\\)\n\n\n\nRyabtsev\n\"ryabtsev\"\n\\(\\sqrt{\\frac{\\sum_i(s_i - v_i)^2}{\\sum_i(s_i + v_i)^2}}\\)\n\n\n\nSzalai (Stewart 2006)\n\"szalai\"\n\\(\\sqrt{\\frac{1}{p}\\sum_i \\bigl(\\frac{s_i - v_i}{s_i + v_i}\\bigr)^2}\\)\n\n\n\nWeighted Szalai (Stewart 2006)\n\"w_szalai\"\n\\(\\sqrt{\\frac{1}{2}\\sum_i \\frac{(s_i - v_i)^2}{s_i + v_i}}\\)\n\n\n\nAleskerov & Platonov\n\"ap\"\n\\(\\frac{\\sum_i k_i \\frac{s_i}{v_i}}{\\sum_i k_i}\\)\n\\(k_i = \\mathbb{I}\\bigl(\\frac{s_i}{v_i} &gt; 1\\bigr)\\)\n\n\nGini coefficient\n\"gini\"\n\\(1\\)\n\n\n\nAtkinson\n\"atkinson\"\n\\(1 - \\Bigl[\\sum_i v_i \\bigl(\\frac{s_i}{v_i}\\bigr)^{(1 - \\eta)} \\Bigr]^{\\frac{1}{1-\\eta}}\\)\n\n\n\nGeneralized Entropy\n\"entropy\"\n\\(\\frac{1}{\\alpha^2 - \\alpha}\\Bigl[ \\sum_i v_i \\bigl( \\frac{s_i}{v_i} \\bigr)^\\alpha - 1 \\Bigr]\\)\n\n\n\nSainte-Laguë (1910)\n\"sl\"\n\\(\\sum_i \\frac{(s_i - v_i)^2}{v_i}\\)\n\n\n\nCox & Shugart\n\"cs\"\n\\(\\frac{\\sum_i (s_i - \\bar{s})(v_i - \\bar{v})}{\\sum_i(v_i - \\bar{v})^2}\\)\n\n\n\nFarina (Kestelman 2005)\n\"farina\"\n\\(\\mbox{arccos}\\Bigl[ \\frac{\\sum_i s_i v_i}{\\sqrt{\\sum_i s_i^2 \\sum_i v_i^2}} \\Bigr]\\frac{10}{9}\\)\n\n\n\nOrtona\n\"ortona\"\n\\(\\frac{\\sum_i |s_i - v_i|}{\\sum_i |u_i - v_i|}\\)\n\\(u_i = \\mathbb{I}(s_i = \\mbox{max}_i s_i)\\)\n\n\nFragnelli\n\"fragnelli\"\n\\(\\frac{1}{2}\\sum_i |\\varphi_i(s) - \\varphi_i(v)|\\)\n\n\n\nGambarelli & Biella\n\"gb\"\n\\(\\max_i\\{|s_i - v_i|, |\\varphi_i (s) - \\varphi_i (v)|\\}\\)\n\n\n\nCosine Dissimilarity\n\"cd\"\n\\(1 - \\frac{\\sum_i s_i v_i}{\\sqrt{\\sum_i s_i^2}\\sqrt{\\sum_i v_i^2}}\\)\n\n\n\nLebeda’s RR (Mixture D’Hondt)\n\"rr\"\n\\(1 - \\frac{1}{\\mbox{max}_i \\frac{s_i}{v_i}}\\)\n\n\n\nLebeda’s ARR\n\"arr\"\n\\(\\frac{1}{p}\\Bigl( 1 - \\frac{1}{\\mbox{max}_i \\frac{s_i}{v_i}} \\Bigr)\\)\n\n\n\nLebeda’s SRR\n\"srr\"\n\\(\\sqrt{\\sum_i\\Bigl(v_i - \\frac{s_i}{\\mbox{max}_i \\frac{s_i}{v_i}}\\Bigr)^2}\\)\n\n\n\nLebeda’s WDRR\n\"wdrr\"\n\\(\\frac{1}{3}\\Bigl(\\Bigl(\\sum_i |v_i - s_i|\\Bigr) + \\Bigl(\\sum_i 1 - \\frac{1}{\\mbox{max}_i \\frac{s_i}{v_i}} \\Bigr)\\Bigr)\\)\n\n\n\nKullback-Leibler Surprise\n\"kl\"\n\\(\\sum_{s_i &gt; 0}s_i \\mbox{ln} \\frac{s_i}{v_i}\\)\n\n\n\nLikelihood Ratio Statistic\n\"lr\"\n\\(2\\sum_i v_i \\mbox{ln} \\frac{v_i}{s_i}\\)\n\n\n\n\\(\\chi^2\\)\n\"chisq\"\n\\(\\sum_{s_i &gt; 0}\\frac{(v_i - s_i)^2}{s_i}\\)\n\n\n\nHellinger Distance\n\"hellinger\"\n\\(\\frac{1}{\\sqrt{2}}\\sqrt{\\sum_i(\\sqrt{s_i} - \\sqrt{v_i})^2}\\)\n\n\n\n\\(\\alpha\\)-divergence\n\"ad\"\nSee Note 1\n\n\n\n\n\n\n\n\n\n\nNote 1: About \\(\\alpha\\)-divergence\n\n\n\n\n\n\n\\[\nD(\\alpha) = \\begin{cases}\n\\sum_i \\bigl(s_i \\mbox{ln} \\bigl(\\frac{s_i}{v_i}\\bigr)\\bigr) & \\mbox{if}\\quad\\alpha = 1,\\\\\n\\sum_i \\bigl(v_i \\mbox{ln} \\bigl(\\frac{v_i}{s_i}\\bigr)\\bigr)  & \\mbox{if}\\quad\\alpha = 0,\\\\\n\\sum_i \\bigl(v_i \\frac{1}{\\alpha (\\alpha - 1)}\\bigr) \\Bigl[\\bigl(\\frac{s_i}{v_i}\\bigr)^\\alpha - 1\\Bigr] & \\mbox{otherwise.}\\\\\n\\end{cases}\n\\]"
  },
  {
    "objectID": "vignettes/03_decomposition.html",
    "href": "vignettes/03_decomposition.html",
    "title": "Decomposition",
    "section": "",
    "text": "library(PRcalc)\n\n\nAttaching package: 'PRcalc'\n\n\nThe following object is masked from 'package:stats':\n\n    decompose\n\ndata(jp_lower_2021)\n\nobj1 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"dt\")\n\nobj2 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"dt\")\n\nobj3 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"msl\")"
  },
  {
    "objectID": "vignettes/03_decomposition.html#preparation",
    "href": "vignettes/03_decomposition.html#preparation",
    "title": "Decomposition",
    "section": "",
    "text": "library(PRcalc)\n\n\nAttaching package: 'PRcalc'\n\n\nThe following object is masked from 'package:stats':\n\n    decompose\n\ndata(jp_lower_2021)\n\nobj1 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"dt\")\n\nobj2 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"dt\")\n\nobj3 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"msl\")"
  },
  {
    "objectID": "vignettes/03_decomposition.html#decomposition",
    "href": "vignettes/03_decomposition.html#decomposition",
    "title": "Decomposition",
    "section": "Decomposition",
    "text": "Decomposition\n\ndecompose(obj1)\n\nalpha-divergence  Reapportionment    Redistricting \n     0.054938814      0.002314718      0.052624096 \n\ndecompose(obj2)\n\nalpha-divergence  Reapportionment    Redistricting \n    0.0479196362     0.0003013664     0.0476182698 \n\ndecompose(obj3)\n\nalpha-divergence  Reapportionment    Redistricting \n    0.0397194583     0.0003013664     0.0394180919 \n\n\nDifferent \\(\\alpha\\) also available. Default is 2.\n\ndecompose(obj1, alpha = 0.5)\n\nalpha-divergence  Reapportionment    Redistricting \n      0.16624217       0.00232946       0.16391271 \n\ndecompose(obj1, alpha = 1)\n\nalpha-divergence  Reapportionment    Redistricting \n     0.091292423      0.002322713      0.088969710 \n\ndecompose(obj1, alpha = 1.5)\n\nalpha-divergence  Reapportionment    Redistricting \n     0.066772353      0.002317803      0.064454550 \n\ndecompose(obj1, alpha = 2)\n\nalpha-divergence  Reapportionment    Redistricting \n     0.054938814      0.002314718      0.052624096 \n\ndecompose(obj1, alpha = 3)\n\nalpha-divergence  Reapportionment    Redistricting \n     0.044218023      0.002314004      0.041904020"
  },
  {
    "objectID": "vignettes/01_calculation.html",
    "href": "vignettes/01_calculation.html",
    "title": "Seat allocation",
    "section": "",
    "text": "library(PRcalc)\n\n\nAttaching package: 'PRcalc'\n\n\nThe following object is masked from 'package:stats':\n\n    decompose"
  },
  {
    "objectID": "vignettes/01_calculation.html#dataset",
    "href": "vignettes/01_calculation.html#dataset",
    "title": "Seat allocation",
    "section": "Dataset",
    "text": "Dataset\n\n# Japanese upper house election in 2019\ndata(\"jp_upper_2019\")\njp_upper_2019\n\n      Party     Vote\n1      自民 17712373\n2      公明  6536336\n3      立憲  7917721\n4      維新  4907844\n5      共産  4483411\n6      国民  3481078\n7    れいわ  2280253\n8      社民  1046012\n9       N国   987885\n10   安楽死   269052\n11     幸福   202278\n12 オリーブ   167897\n13   労働者    80055\n\n# Japanese lower house election in 2019\ndata(\"jp_lower_2021\")\njp_lower_2021\n\n    Party Hokkaido  Tohoku Kitakanto Minamikanto   Tokyo Hokuriku   Tokai\n1    自民   863300 1628233   2172065     2590787 2000084  1468380 2515841\n2    公明   294371  456287    823930      850667  715450   322535  784976\n3    立憲   682913  991505   1391149     1651562 1293281   773076 1485947\n4    共産   207189  292830    444115      534493  670340   225551  408606\n5    維新   215344  258690    617531      863897  858577   361476  694630\n6    国民    73621  195754    298056      384482  306180   133600  382734\n7    社民    41248  101442     97963      124447   92995    71185   84220\n8    れ新   102086  143265    239592      302675  360387   111281  273208\n9     N党    42916   52664     87702      111298   92353    43529   98238\n10 支なし    46142       0         0           0       0        0       0\n11   第一        0       0         0           0   33661        0       0\n12 やまと        0       0         0           0   16970        0       0\n13 コロナ        0       0         0           0    6620        0       0\n     Kinki Chugoku Shikoku  Kyushu\n1  2407699 1352723  664805 2250966\n2  1155683  436220  233407 1040756\n3  1090666  573324  291871 1266801\n4   736156  173117  108021  365658\n5  3180219  286302  173826  540338\n6   303480  113899  122082  279509\n7   100980   52638   30249  221221\n8   292483   94446   52941  243284\n9   111539   36758   21285   98506\n10       0       0       0       0\n11       0       0       0       0\n12       0       0       0       0\n13       0       0       0       0"
  },
  {
    "objectID": "vignettes/01_calculation.html#calculation",
    "href": "vignettes/01_calculation.html#calculation",
    "title": "Seat allocation",
    "section": "Calculation",
    "text": "Calculation\n\nobj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\nobj1\n\nRaw:\n      Party     Vote\n1      自民 17712373\n2      公明  6536336\n3      立憲  7917721\n4      維新  4907844\n5      共産  4483411\n6      国民  3481078\n7    れいわ  2280253\n8      社民  1046012\n9       N国   987885\n10   安楽死   269052\n11     幸福   202278\n12 オリーブ   167897\n13   労働者    80055\n\nResult:\n      Party Vote\n1      自民   18\n2      公明    7\n3      立憲    8\n4      維新    5\n5      共産    5\n6      国民    3\n7    れいわ    2\n8      社民    1\n9       N国    1\n10   安楽死    0\n11     幸福    0\n12 オリーブ    0\n13   労働者    0\n\nParameters:\n  Allocation method: D'Hondt (Jefferson) method \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: 50\n\nobj2 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"dt\")\nobj2\n\nRaw:\n    Party Hokkaido  Tohoku Kitakanto Minamikanto   Tokyo Hokuriku   Tokai\n1    自民   863300 1628233   2172065     2590787 2000084  1468380 2515841\n2    公明   294371  456287    823930      850667  715450   322535  784976\n3    立憲   682913  991505   1391149     1651562 1293281   773076 1485947\n4    共産   207189  292830    444115      534493  670340   225551  408606\n5    維新   215344  258690    617531      863897  858577   361476  694630\n6    国民    73621  195754    298056      384482  306180   133600  382734\n7    社民    41248  101442     97963      124447   92995    71185   84220\n8    れ新   102086  143265    239592      302675  360387   111281  273208\n9     N党    42916   52664     87702      111298   92353    43529   98238\n10 支なし    46142       0         0           0       0        0       0\n11   第一        0       0         0           0   33661        0       0\n12 やまと        0       0         0           0   16970        0       0\n13 コロナ        0       0         0           0    6620        0       0\n     Kinki Chugoku Shikoku  Kyushu    Total\n1  2407699 1352723  664805 2250966 19914883\n2  1155683  436220  233407 1040756  7114282\n3  1090666  573324  291871 1266801 11492095\n4   736156  173117  108021  365658  4166076\n5  3180219  286302  173826  540338  8050830\n6   303480  113899  122082  279509  2593397\n7   100980   52638   30249  221221  1018588\n8   292483   94446   52941  243284  2215648\n9   111539   36758   21285   98506   796788\n10       0       0       0       0    46142\n11       0       0       0       0    33661\n12       0       0       0       0    16970\n13       0       0       0       0     6620\n\nResult:\n    Party Hokkaido Tohoku Kitakanto Minamikanto Tokyo Hokuriku Tokai Kinki\n1    自民        3      6         7           8     6        5     8     8\n2    公明        1      1         3           3     2        1     3     3\n3    立憲        3      4         5           5     4        3     5     3\n4    共産        0      1         1           1     2        1     1     2\n5    維新        1      1         2           3     2        1     2    10\n6    国民        0      0         1           1     0        0     1     1\n7    社民        0      0         0           0     0        0     0     0\n8    れ新        0      0         0           1     1        0     1     1\n9     N党        0      0         0           0     0        0     0     0\n10 支なし        0      0         0           0     0        0     0     0\n11   第一        0      0         0           0     0        0     0     0\n12 やまと        0      0         0           0     0        0     0     0\n13 コロナ        0      0         0           0     0        0     0     0\n   Chugoku Shikoku Kyushu Total\n1        5       3      8    67\n2        2       1      4    24\n3        3       1      4    40\n4        0       0      1    10\n5        1       1      2    26\n6        0       0      1     5\n7        0       0      0     0\n8        0       0      0     4\n9        0       0      0     0\n10       0       0      0     0\n11       0       0      0     0\n12       0       0      0     0\n13       0       0      0     0\n\nParameters:\n  Allocation method: D'Hondt (Jefferson) method \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: \n   Hokkaido      Tohoku   Kitakanto Minamikanto       Tokyo    Hokuriku \n          8          13          19          22          17          11 \n      Tokai       Kinki     Chugoku     Shikoku      Kyushu \n         21          28          11           6          20"
  },
  {
    "objectID": "vignettes/01_calculation.html#printing",
    "href": "vignettes/01_calculation.html#printing",
    "title": "Seat allocation",
    "section": "Printing",
    "text": "Printing\n\nobj3 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"hare\")\n\nprint(obj3, show_total = FALSE) # Hide `Total` column\n\nRaw:\n    Party Hokkaido  Tohoku Kitakanto Minamikanto   Tokyo Hokuriku   Tokai\n1    自民   863300 1628233   2172065     2590787 2000084  1468380 2515841\n2    公明   294371  456287    823930      850667  715450   322535  784976\n3    立憲   682913  991505   1391149     1651562 1293281   773076 1485947\n4    共産   207189  292830    444115      534493  670340   225551  408606\n5    維新   215344  258690    617531      863897  858577   361476  694630\n6    国民    73621  195754    298056      384482  306180   133600  382734\n7    社民    41248  101442     97963      124447   92995    71185   84220\n8    れ新   102086  143265    239592      302675  360387   111281  273208\n9     N党    42916   52664     87702      111298   92353    43529   98238\n10 支なし    46142       0         0           0       0        0       0\n11   第一        0       0         0           0   33661        0       0\n12 やまと        0       0         0           0   16970        0       0\n13 コロナ        0       0         0           0    6620        0       0\n     Kinki Chugoku Shikoku  Kyushu\n1  2407699 1352723  664805 2250966\n2  1155683  436220  233407 1040756\n3  1090666  573324  291871 1266801\n4   736156  173117  108021  365658\n5  3180219  286302  173826  540338\n6   303480  113899  122082  279509\n7   100980   52638   30249  221221\n8   292483   94446   52941  243284\n9   111539   36758   21285   98506\n10       0       0       0       0\n11       0       0       0       0\n12       0       0       0       0\n13       0       0       0       0\n\nResult:\n    Party Hokkaido Tohoku Kitakanto Minamikanto Tokyo Hokuriku Tokai Kinki\n1    自民        3      5         7           8     5        5     8     7\n2    公明        1      1         3           2     2        1     3     4\n3    立憲        2      3         4           5     4        3     5     3\n4    共産        1      1         1           2     2        1     1     2\n5    維新        1      1         2           3     2        1     2    10\n6    国民        0      1         1           1     1        0     1     1\n7    社民        0      0         0           0     0        0     0     0\n8    れ新        0      1         1           1     1        0     1     1\n9     N党        0      0         0           0     0        0     0     0\n10 支なし        0      0         0           0     0        0     0     0\n11   第一        0      0         0           0     0        0     0     0\n12 やまと        0      0         0           0     0        0     0     0\n13 コロナ        0      0         0           0     0        0     0     0\n   Chugoku Shikoku Kyushu\n1        5       2      7\n2        2       1      3\n3        2       1      4\n4        1       0      1\n5        1       1      2\n6        0       1      1\n7        0       0      1\n8        0       0      1\n9        0       0      0\n10       0       0      0\n11       0       0      0\n12       0       0      0\n13       0       0      0\n\nParameters:\n  Allocation method: Hare-Niemeyer quota \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: \n   Hokkaido      Tohoku   Kitakanto Minamikanto       Tokyo    Hokuriku \n          8          13          19          22          17          11 \n      Tokai       Kinki     Chugoku     Shikoku      Kyushu \n         21          28          11           6          20 \n\nprint(obj3, prop = TRUE) # Show proportion\n\nRaw:\n    Party Hokkaido Tohoku Kitakanto Minamikanto   Tokyo Hokuriku  Tokai  Kinki\n1    自民   0.3360 0.3951    0.3519      0.3494 0.31024   0.4183 0.3739 0.2567\n2    公明   0.1146 0.1107    0.1335      0.1147 0.11098   0.0919 0.1167 0.1232\n3    立憲   0.2658 0.2406    0.2254      0.2228 0.20061   0.2202 0.2208 0.1163\n4    共産   0.0806 0.0711    0.0720      0.0721 0.10398   0.0642 0.0607 0.0785\n5    維新   0.0838 0.0628    0.1001      0.1165 0.13318   0.1030 0.1032 0.3391\n6    国民   0.0287 0.0475    0.0483      0.0519 0.04749   0.0381 0.0569 0.0324\n7    社民   0.0161 0.0246    0.0159      0.0168 0.01442   0.0203 0.0125 0.0108\n8    れ新   0.0397 0.0348    0.0388      0.0408 0.05590   0.0317 0.0406 0.0312\n9     N党   0.0167 0.0128    0.0142      0.0150 0.01433   0.0124 0.0146 0.0119\n10 支なし   0.0180 0.0000    0.0000      0.0000 0.00000   0.0000 0.0000 0.0000\n11   第一   0.0000 0.0000    0.0000      0.0000 0.00522   0.0000 0.0000 0.0000\n12 やまと   0.0000 0.0000    0.0000      0.0000 0.00263   0.0000 0.0000 0.0000\n13 コロナ   0.0000 0.0000    0.0000      0.0000 0.00103   0.0000 0.0000 0.0000\n   Chugoku Shikoku Kyushu    Total\n1   0.4336  0.3914 0.3569 0.346551\n2   0.1398  0.1374 0.1650 0.123800\n3   0.1838  0.1718 0.2009 0.199981\n4   0.0555  0.0636 0.0580 0.072496\n5   0.0918  0.1023 0.0857 0.140097\n6   0.0365  0.0719 0.0443 0.045129\n7   0.0169  0.0178 0.0351 0.017725\n8   0.0303  0.0312 0.0386 0.038556\n9   0.0118  0.0125 0.0156 0.013865\n10  0.0000  0.0000 0.0000 0.000803\n11  0.0000  0.0000 0.0000 0.000586\n12  0.0000  0.0000 0.0000 0.000295\n13  0.0000  0.0000 0.0000 0.000115\n\nResult:\n    Party Hokkaido Tohoku Kitakanto Minamikanto  Tokyo Hokuriku  Tokai  Kinki\n1    自民    0.375 0.3846    0.3684      0.3636 0.2941   0.4545 0.3810 0.2500\n2    公明    0.125 0.0769    0.1579      0.0909 0.1176   0.0909 0.1429 0.1429\n3    立憲    0.250 0.2308    0.2105      0.2273 0.2353   0.2727 0.2381 0.1071\n4    共産    0.125 0.0769    0.0526      0.0909 0.1176   0.0909 0.0476 0.0714\n5    維新    0.125 0.0769    0.1053      0.1364 0.1176   0.0909 0.0952 0.3571\n6    国民    0.000 0.0769    0.0526      0.0455 0.0588   0.0000 0.0476 0.0357\n7    社民    0.000 0.0000    0.0000      0.0000 0.0000   0.0000 0.0000 0.0000\n8    れ新    0.000 0.0769    0.0526      0.0455 0.0588   0.0000 0.0476 0.0357\n9     N党    0.000 0.0000    0.0000      0.0000 0.0000   0.0000 0.0000 0.0000\n10 支なし    0.000 0.0000    0.0000      0.0000 0.0000   0.0000 0.0000 0.0000\n11   第一    0.000 0.0000    0.0000      0.0000 0.0000   0.0000 0.0000 0.0000\n12 やまと    0.000 0.0000    0.0000      0.0000 0.0000   0.0000 0.0000 0.0000\n13 コロナ    0.000 0.0000    0.0000      0.0000 0.0000   0.0000 0.0000 0.0000\n   Chugoku Shikoku Kyushu   Total\n1   0.4545   0.333   0.35 0.35227\n2   0.1818   0.167   0.15 0.13068\n3   0.1818   0.167   0.20 0.20455\n4   0.0909   0.000   0.05 0.07386\n5   0.0909   0.167   0.10 0.14773\n6   0.0000   0.167   0.05 0.04545\n7   0.0000   0.000   0.05 0.00568\n8   0.0000   0.000   0.05 0.03977\n9   0.0000   0.000   0.00 0.00000\n10  0.0000   0.000   0.00 0.00000\n11  0.0000   0.000   0.00 0.00000\n12  0.0000   0.000   0.00 0.00000\n13  0.0000   0.000   0.00 0.00000\n\nParameters:\n  Allocation method: Hare-Niemeyer quota \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: \n   Hokkaido      Tohoku   Kitakanto Minamikanto       Tokyo    Hokuriku \n          8          13          19          22          17          11 \n      Tokai       Kinki     Chugoku     Shikoku      Kyushu \n         21          28          11           6          20 \n\nprint(obj3, use_gt = TRUE) # use {gt} package\n\n\n\n\n\n\n\n\nParty\nHokkaido\nTohoku\nKitakanto\nMinamikanto\nTokyo\nHokuriku\nTokai\nKinki\nChugoku\nShikoku\nKyushu\nTotal\n\n\n\n\nRaw\n\n\n自民\n863300\n1628233\n2172065\n2590787\n2000084\n1468380\n2515841\n2407699\n1352723\n664805\n2250966\n19914883\n\n\n公明\n294371\n456287\n823930\n850667\n715450\n322535\n784976\n1155683\n436220\n233407\n1040756\n7114282\n\n\n立憲\n682913\n991505\n1391149\n1651562\n1293281\n773076\n1485947\n1090666\n573324\n291871\n1266801\n11492095\n\n\n共産\n207189\n292830\n444115\n534493\n670340\n225551\n408606\n736156\n173117\n108021\n365658\n4166076\n\n\n維新\n215344\n258690\n617531\n863897\n858577\n361476\n694630\n3180219\n286302\n173826\n540338\n8050830\n\n\n国民\n73621\n195754\n298056\n384482\n306180\n133600\n382734\n303480\n113899\n122082\n279509\n2593397\n\n\n社民\n41248\n101442\n97963\n124447\n92995\n71185\n84220\n100980\n52638\n30249\n221221\n1018588\n\n\nれ新\n102086\n143265\n239592\n302675\n360387\n111281\n273208\n292483\n94446\n52941\n243284\n2215648\n\n\nN党\n42916\n52664\n87702\n111298\n92353\n43529\n98238\n111539\n36758\n21285\n98506\n796788\n\n\n支なし\n46142\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n46142\n\n\n第一\n0\n0\n0\n0\n33661\n0\n0\n0\n0\n0\n0\n33661\n\n\nやまと\n0\n0\n0\n0\n16970\n0\n0\n0\n0\n0\n0\n16970\n\n\nコロナ\n0\n0\n0\n0\n6620\n0\n0\n0\n0\n0\n0\n6620\n\n\nDistribution\n\n\n自民\n3\n5\n7\n8\n5\n5\n8\n7\n5\n2\n7\n62\n\n\n公明\n1\n1\n3\n2\n2\n1\n3\n4\n2\n1\n3\n23\n\n\n立憲\n2\n3\n4\n5\n4\n3\n5\n3\n2\n1\n4\n36\n\n\n共産\n1\n1\n1\n2\n2\n1\n1\n2\n1\n0\n1\n13\n\n\n維新\n1\n1\n2\n3\n2\n1\n2\n10\n1\n1\n2\n26\n\n\n国民\n0\n1\n1\n1\n1\n0\n1\n1\n0\n1\n1\n8\n\n\n社民\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n\n\nれ新\n0\n1\n1\n1\n1\n0\n1\n1\n0\n0\n1\n7\n\n\nN党\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n支なし\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n第一\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\nやまと\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\nコロナ\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n\nAllocation method: Hare-Niemeyer quota\n\n\nExtra parameter:\n\n\nThreshold: 0\n\n\n\n\n\n\n\n\nsummary(obj3) # summarize\n\n    Party      Raw Dist\n1    自民 19914883   62\n2    公明  7114282   23\n3    立憲 11492095   36\n4    共産  4166076   13\n5    維新  8050830   26\n6    国民  2593397    8\n7    社民  1018588    1\n8    れ新  2215648    7\n9     N党   796788    0\n10 支なし    46142    0\n11   第一    33661    0\n12 やまと    16970    0\n13 コロナ     6620    0\n\nsummary(obj3, prop = TRUE) # summarize with proprotion\n\n    Party      Raw    Dist\n1    自民 0.346551 0.35227\n2    公明 0.123800 0.13068\n3    立憲 0.199981 0.20455\n4    共産 0.072496 0.07386\n5    維新 0.140097 0.14773\n6    国民 0.045129 0.04545\n7    社民 0.017725 0.00568\n8    れ新 0.038556 0.03977\n9     N党 0.013865 0.00000\n10 支なし 0.000803 0.00000\n11   第一 0.000586 0.00000\n12 やまと 0.000295 0.00000\n13 コロナ 0.000115 0.00000"
  },
  {
    "objectID": "vignettes/01_calculation.html#visualization",
    "href": "vignettes/01_calculation.html#visualization",
    "title": "Seat allocation",
    "section": "Visualization",
    "text": "Visualization\n\nplot(obj1)\n\n\n\n\n\n\n\nplot(obj2)\n\n\n\n\n\n\n\nplot(obj2, angle = 90)\n\n\n\n\n\n\n\n# Output only some parties\nplot(obj2, \n     subset_p = c(\"自民\", \"公明\", \"立憲\", \"維新\", \"共産\", \"国民\"))\n\n\n\n\n\n\n\n# Output only some district\nplot(obj2, \n     subset_p = c(\"自民\", \"公明\", \"立憲\", \"維新\", \"共産\", \"国民\"),\n     subset_b = c(\"Tokyo\", \"Kinki\")) \n\n\n\n\n\n\n\n# Divide the facet by parties\nplot(obj2, \n     subset_p  = c(\"自民\", \"公明\", \"立憲\", \"維新\", \"共産\", \"国民\"),\n     subset_b = c(\"Tokyo\", \"Kinki\"),\n     by        = \"party\")\n\n\n\n\n\n\n\n# 3-column\nplot(obj2, \n     subset_p  = c(\"自民\", \"公明\", \"立憲\", \"維新\", \"共産\", \"国民\"),\n     subset_b = c(\"Tokyo\", \"Kinki\"),\n     by        = \"party\",\n     facet_col = 3)\n\n\n\n\n\n\n\n# Use different y-axis scales for each facet\nplot(obj2, \n     subset_p  = c(\"自民\", \"公明\", \"立憲\", \"維新\", \"共産\", \"国民\"),\n     subset_b  = c(\"Tokyo\", \"Kinki\"),\n     by        = \"party\",\n     facet_col = 3,\n     free_y    = TRUE)"
  },
  {
    "objectID": "man/decompose.html",
    "href": "man/decompose.html",
    "title": "PRcalc",
    "section": "",
    "text": "Decompsition\n\n\n\ndecompose(x, ...)\n\n## S3 method for class 'prcalc'\ndecompose(x, alpha = 2, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\n…\n\n\nignored\n\n\n\n\nalpha\n\n\nDefault is 2.\n\n\n\n\n\n\na prcalc_decomposition object.\n\n\n\n\n\nYuta, Kamahara. \"The Desired Political Entropy as the Measure of Unequal Representation: Disproportionality and Malapportionment\". Working paper.\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_lower_2021)\n\nobj &lt;- prcalc(jp_lower_2021,\n              m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n              method = \"hare\")\n\ndecompose(obj)\n\nalpha-divergence  Reapportionment    Redistricting \n      0.03952282       0.00324211       0.03628070"
  },
  {
    "objectID": "man/decompose.html#decompsition",
    "href": "man/decompose.html#decompsition",
    "title": "PRcalc",
    "section": "",
    "text": "Decompsition\n\n\n\ndecompose(x, ...)\n\n## S3 method for class 'prcalc'\ndecompose(x, alpha = 2, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\n…\n\n\nignored\n\n\n\n\nalpha\n\n\nDefault is 2.\n\n\n\n\n\n\na prcalc_decomposition object.\n\n\n\n\n\nYuta, Kamahara. \"The Desired Political Entropy as the Measure of Unequal Representation: Disproportionality and Malapportionment\". Working paper.\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_lower_2021)\n\nobj &lt;- prcalc(jp_lower_2021,\n              m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n              method = \"hare\")\n\ndecompose(obj)\n\nalpha-divergence  Reapportionment    Redistricting \n      0.03952282       0.00324211       0.03628070"
  },
  {
    "objectID": "man/jp_lower_2014.html",
    "href": "man/jp_lower_2014.html",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2014年)\n\n\n\ndata(jp_lower_2014)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2014.html#衆議院議員総選挙比例区得票数-2014年",
    "href": "man/jp_lower_2014.html#衆議院議員総選挙比例区得票数-2014年",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2014年)\n\n\n\ndata(jp_lower_2014)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2017.html",
    "href": "man/jp_lower_2017.html",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2017年)\n\n\n\ndata(jp_lower_2017)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2017.html#衆議院議員総選挙比例区得票数-2017年",
    "href": "man/jp_lower_2017.html#衆議院議員総選挙比例区得票数-2017年",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2017年)\n\n\n\ndata(jp_lower_2017)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2012.html",
    "href": "man/jp_lower_2012.html",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2012年)\n\n\n\ndata(jp_lower_2012)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2012.html#衆議院議員総選挙比例区得票数-2012年",
    "href": "man/jp_lower_2012.html#衆議院議員総選挙比例区得票数-2012年",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2012年)\n\n\n\ndata(jp_lower_2012)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/allocation.html",
    "href": "man/allocation.html",
    "title": "PRcalc",
    "section": "",
    "text": "Largest Remainder Method\n\n\n\nallocation(x, m, method, extra = NULL)\n\n\n\n\n\n\n\nx\n\n\na data.frame or tibble with two columns. The first and second column represents names of parties and numbers of votes, respectively.\n\n\n\n\nm\n\n\na numeric value of district magnitude.\n\n\n\n\nmethod\n\n\na character string giving a method for computing seat allocation. See \"Allocation methods\" section.\n\n\n\n\nextra\n\n\na numeric vector of length m. If method is “custom”, this parameter is mandatory. Otherwise, it is ignored.\n\n\n\n\n\n\nA tibble object with two columns.\n\n\n\n\n\nHighest average method\n\n\n“d’hondt” (“dt”) or “jefferson”: D’hondt / Jefferson method\n\n\n“adams” or “cambridge”: Adams / Cambridge method\n\n\n“sainte-lague” (“sl”) or “webster”: Sainte-Laguë / Webster method\n\n\n“modified sainte-lague” (“msl”): Modified Sainte-Laguë method\n\n\n“danish”: Danish method\n\n\n“imperiali”: Imperiali method\n\n\n“hungtington-hill” (“hh”): Huntington-Hill method\n\n\n“dean”: Dean method\n\n\n“ad”: alpha-divergence. extra is mandatory.\n\n\n“custom”: Custom divisor. extra is mandatory.\n\n\n\n\nLargest reminder method\n\n\n“hare-niemeyer” (“hn” or “hare”): Hare-Niemeyer quota\n\n\n“droop”: Droop quota\n\n\n“hagenbach-bischoff” (“hb”): Hagenbach-Bischoff quota\n\n\n“imperiali quota” (“iq”): Imperiali quota\n\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\nsample_data &lt;- data.frame(Party = c(\"Party A\", \"Party B\", \"Party C\", \"Party D\"),\n                          Votes = c(53000, 25000, 16600, 5400))\n\nsample_data\n\n    Party Votes\n1 Party A 53000\n2 Party B 25000\n3 Party C 16600\n4 Party D  5400\n\n# Magnitude = 10, Hare-Niemeyer quota\nallocation(x = sample_data, m = 10, method = \"hare\")\n\n    party votes\n1 Party A     5\n2 Party B     2\n3 Party C     2\n4 Party D     1\n\n# Magnitude = 10, D'hondt method\nallocation(x = sample_data, m = 10, method = \"dt\")\n\n# A tibble: 3 × 2\n  party   votes\n  &lt;chr&gt;   &lt;int&gt;\n1 Party A     6\n2 Party B     3\n3 Party C     1\n\n# Custom divisor: 1.4, 3, 5, 7, ... (identical to Modified Sainte-Laguë method)\nallocation(x = sample_data, m = 10, method = \"custom\",\n           extra = c(1.4, seq(3, 19, by = 2)))\n\n# A tibble: 3 × 2\n  party   votes\n  &lt;chr&gt;   &lt;int&gt;\n1 Party A     5\n2 Party B     3\n3 Party C     2"
  },
  {
    "objectID": "man/allocation.html#largest-remainder-method",
    "href": "man/allocation.html#largest-remainder-method",
    "title": "PRcalc",
    "section": "",
    "text": "Largest Remainder Method\n\n\n\nallocation(x, m, method, extra = NULL)\n\n\n\n\n\n\n\nx\n\n\na data.frame or tibble with two columns. The first and second column represents names of parties and numbers of votes, respectively.\n\n\n\n\nm\n\n\na numeric value of district magnitude.\n\n\n\n\nmethod\n\n\na character string giving a method for computing seat allocation. See \"Allocation methods\" section.\n\n\n\n\nextra\n\n\na numeric vector of length m. If method is “custom”, this parameter is mandatory. Otherwise, it is ignored.\n\n\n\n\n\n\nA tibble object with two columns.\n\n\n\n\n\nHighest average method\n\n\n“d’hondt” (“dt”) or “jefferson”: D’hondt / Jefferson method\n\n\n“adams” or “cambridge”: Adams / Cambridge method\n\n\n“sainte-lague” (“sl”) or “webster”: Sainte-Laguë / Webster method\n\n\n“modified sainte-lague” (“msl”): Modified Sainte-Laguë method\n\n\n“danish”: Danish method\n\n\n“imperiali”: Imperiali method\n\n\n“hungtington-hill” (“hh”): Huntington-Hill method\n\n\n“dean”: Dean method\n\n\n“ad”: alpha-divergence. extra is mandatory.\n\n\n“custom”: Custom divisor. extra is mandatory.\n\n\n\n\nLargest reminder method\n\n\n“hare-niemeyer” (“hn” or “hare”): Hare-Niemeyer quota\n\n\n“droop”: Droop quota\n\n\n“hagenbach-bischoff” (“hb”): Hagenbach-Bischoff quota\n\n\n“imperiali quota” (“iq”): Imperiali quota\n\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\nsample_data &lt;- data.frame(Party = c(\"Party A\", \"Party B\", \"Party C\", \"Party D\"),\n                          Votes = c(53000, 25000, 16600, 5400))\n\nsample_data\n\n    Party Votes\n1 Party A 53000\n2 Party B 25000\n3 Party C 16600\n4 Party D  5400\n\n# Magnitude = 10, Hare-Niemeyer quota\nallocation(x = sample_data, m = 10, method = \"hare\")\n\n    party votes\n1 Party A     5\n2 Party B     2\n3 Party C     2\n4 Party D     1\n\n# Magnitude = 10, D'hondt method\nallocation(x = sample_data, m = 10, method = \"dt\")\n\n# A tibble: 3 × 2\n  party   votes\n  &lt;chr&gt;   &lt;int&gt;\n1 Party A     6\n2 Party B     3\n3 Party C     1\n\n# Custom divisor: 1.4, 3, 5, 7, ... (identical to Modified Sainte-Laguë method)\nallocation(x = sample_data, m = 10, method = \"custom\",\n           extra = c(1.4, seq(3, 19, by = 2)))\n\n# A tibble: 3 × 2\n  party   votes\n  &lt;chr&gt;   &lt;int&gt;\n1 Party A     5\n2 Party B     3\n3 Party C     2"
  },
  {
    "objectID": "man/jp_census_2015.html",
    "href": "man/jp_census_2015.html",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口 (2015年)\n\n\n\ndata(jp_census_2015)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/jp_census_2015.html#都道府県別人口-2015年",
    "href": "man/jp_census_2015.html#都道府県別人口-2015年",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口 (2015年)\n\n\n\ndata(jp_census_2015)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/compare.html",
    "href": "man/compare.html",
    "title": "PRcalc",
    "section": "",
    "text": "Comparison multiple prcalc, prcalc_index, or prcalc_decomposition objects.\n\n\n\ncompare(x, ...)\n\n## S3 method for class 'list'\ncompare(x, prop = FALSE, ...)\n\n\n\n\n\n\n\nx\n\n\na list. All elements in the list must be prcalc, prcalc_index, or prcalc_decomposition objects.\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\nprop\n\n\nDefault is FALSE.\n\n\n\n\n\n\nA prcalc_compare, prcalc_index_compare, or prcalc_decomposition_compare object\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\ncompare(list(\"t = 0%\" = pr_obj1, \"t = 2.5%\" = pr_obj2, \"t = 5%\" = pr_obj3))\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare()\n\n            ID                         Index   t = 0% t = 2.5%  t = 5%\n1       dhondt                       D’Hondt 1.116833  1.13833 1.15073\n2       monroe                        Monroe 0.018918  0.04465 0.07028\n3       maxdev    Maximum Absolute Deviation 0.010461  0.02626 0.04626\n4          rae                           Rae 0.004664  0.01078 0.01547\n5           lh             Loosemore & Hanby 0.030315  0.07004 0.10052\n6      grofman                       Grofman 0.011677  0.02698 0.03872\n7     lijphart                      Lijphart 0.004069  0.02407 0.03407\n8    gallagher                     Gallagher 0.014609  0.03448 0.05427\n9  g_gallagher         Generalized Gallagher 0.014609  0.03448 0.05427\n10       gatev                         Gatev 0.032939  0.07576 0.11690\n11    ryabtsev                      Ryabtsev 0.023298  0.05365 0.08295\n12      szalai                        Szalai 0.555712  0.68047 0.73470\n13    w_szalai               Weighted Szalai 0.090661  0.17223 0.23070\n14          ap          Aleskerov & Platonov 1.042141  1.08443 1.10490\n15        gini                          Gini 0.036069  0.08943 0.13750\n16    atkinson                      Atkinson 1.000000  1.00000 1.00000\n17          sl                  Sainte-Laguë 0.018466  0.06389 0.11313\n18          cs                 Cox & Shugart 1.033646  1.11513 1.17257\n19      farina                        Farina 0.046282  0.09017 0.14105\n20      ortona                        Ortona 0.046909  0.10838 0.15555\n21          cd          Cosine Dissimilarity 0.000867  0.00329 0.00805\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.104611  0.12152 0.13099\n23         arr                  Lebeda’s ARR 0.068876  0.06758 0.06685\n24         srr                  Lebeda’s SRR 0.041482  0.04284 0.05664\n25        wdrr                 Lebeda’s WDRR 0.055081  0.08720 0.11068\n26          kl     Kullback-Leibler Surprise 0.016431  0.05936 0.10657\n27          lr    Likelihood Ratio Statistic      Inf      Inf     Inf\n28       chisq                   Chi Squared 0.004225  0.00852 0.01115\n29   hellinger            Hellinger Distance 0.087758  0.16905 0.22747\n30          ad              alpha-Divergence 0.009233  0.03194 0.05656"
  },
  {
    "objectID": "man/compare.html#comparison-multiple-prcalc-prcalc_index-or-prcalc_decomposition-objects.",
    "href": "man/compare.html#comparison-multiple-prcalc-prcalc_index-or-prcalc_decomposition-objects.",
    "title": "PRcalc",
    "section": "",
    "text": "Comparison multiple prcalc, prcalc_index, or prcalc_decomposition objects.\n\n\n\ncompare(x, ...)\n\n## S3 method for class 'list'\ncompare(x, prop = FALSE, ...)\n\n\n\n\n\n\n\nx\n\n\na list. All elements in the list must be prcalc, prcalc_index, or prcalc_decomposition objects.\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\nprop\n\n\nDefault is FALSE.\n\n\n\n\n\n\nA prcalc_compare, prcalc_index_compare, or prcalc_decomposition_compare object\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\ncompare(list(\"t = 0%\" = pr_obj1, \"t = 2.5%\" = pr_obj2, \"t = 5%\" = pr_obj3))\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare()\n\n            ID                         Index   t = 0% t = 2.5%  t = 5%\n1       dhondt                       D’Hondt 1.116833  1.13833 1.15073\n2       monroe                        Monroe 0.018918  0.04465 0.07028\n3       maxdev    Maximum Absolute Deviation 0.010461  0.02626 0.04626\n4          rae                           Rae 0.004664  0.01078 0.01547\n5           lh             Loosemore & Hanby 0.030315  0.07004 0.10052\n6      grofman                       Grofman 0.011677  0.02698 0.03872\n7     lijphart                      Lijphart 0.004069  0.02407 0.03407\n8    gallagher                     Gallagher 0.014609  0.03448 0.05427\n9  g_gallagher         Generalized Gallagher 0.014609  0.03448 0.05427\n10       gatev                         Gatev 0.032939  0.07576 0.11690\n11    ryabtsev                      Ryabtsev 0.023298  0.05365 0.08295\n12      szalai                        Szalai 0.555712  0.68047 0.73470\n13    w_szalai               Weighted Szalai 0.090661  0.17223 0.23070\n14          ap          Aleskerov & Platonov 1.042141  1.08443 1.10490\n15        gini                          Gini 0.036069  0.08943 0.13750\n16    atkinson                      Atkinson 1.000000  1.00000 1.00000\n17          sl                  Sainte-Laguë 0.018466  0.06389 0.11313\n18          cs                 Cox & Shugart 1.033646  1.11513 1.17257\n19      farina                        Farina 0.046282  0.09017 0.14105\n20      ortona                        Ortona 0.046909  0.10838 0.15555\n21          cd          Cosine Dissimilarity 0.000867  0.00329 0.00805\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.104611  0.12152 0.13099\n23         arr                  Lebeda’s ARR 0.068876  0.06758 0.06685\n24         srr                  Lebeda’s SRR 0.041482  0.04284 0.05664\n25        wdrr                 Lebeda’s WDRR 0.055081  0.08720 0.11068\n26          kl     Kullback-Leibler Surprise 0.016431  0.05936 0.10657\n27          lr    Likelihood Ratio Statistic      Inf      Inf     Inf\n28       chisq                   Chi Squared 0.004225  0.00852 0.01115\n29   hellinger            Hellinger Distance 0.087758  0.16905 0.22747\n30          ad              alpha-Divergence 0.009233  0.03194 0.05656"
  },
  {
    "objectID": "man/jp_census_1970.html",
    "href": "man/jp_census_1970.html",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口 (1970年)\n\n\n\ndata(jp_census_1970)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/jp_census_1970.html#都道府県別人口-1970年",
    "href": "man/jp_census_1970.html#都道府県別人口-1970年",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口 (1970年)\n\n\n\ndata(jp_census_1970)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/index.html",
    "href": "man/index.html",
    "title": "PRcalc",
    "section": "",
    "text": "Calculate the disproportionality indices.\n\n\n\nindex(x, ...)\n\n## S3 method for class 'prcalc'\nindex(x, k = 2, eta = 2, alpha = 2, omit_zero = TRUE, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\n…\n\n\nignored\n\n\n\n\nk\n\n\na parameter for Generalized Gallagher index. Default is 2.\n\n\n\n\neta\n\n\na parameter for Atkinson index. Default is 2.\n\n\n\n\nalpha\n\n\na parameter for alpha-divergence. Default is 2.\n\n\n\n\nomit_zero\n\n\nIf TRUE, parties with 0 votes and 0 seats are ignored. Default is TRUE.\n\n\n\n\n\n\na prcalc_index object.\n\n\n\n\n\nLaakso, Markku and Rein Taagepera. 1979. \"\"Effective\" Number of Parties: A Measure with Application to West Europe\". Comparative Political Studies. 12 (1): 3–27.\n\n\nGallagher, Michael. 1991. \"Proportionality, Disproportionality and Electoral Systems\". Electoral Studies. 10: 33–51.\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\nobj &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nobj_index &lt;- index(obj)\nobj_index\n\n            ID                         Index    Value\n1       dhondt                       D’Hondt 1.116833\n2       monroe                        Monroe 0.018918\n3       maxdev    Maximum Absolute Deviation 0.010461\n4          rae                           Rae 0.004664\n5           lh             Loosemore & Hanby 0.030315\n6      grofman                       Grofman 0.011677\n7     lijphart                      Lijphart 0.004069\n8    gallagher                     Gallagher 0.014609\n9  g_gallagher         Generalized Gallagher 0.014609\n10       gatev                         Gatev 0.032939\n11    ryabtsev                      Ryabtsev 0.023298\n12      szalai                        Szalai 0.555712\n13    w_szalai               Weighted Szalai 0.090661\n14          ap          Aleskerov & Platonov 1.042141\n15        gini                          Gini 0.036069\n16    atkinson                      Atkinson 1.000000\n17          sl                  Sainte-Laguë 0.018466\n18          cs                 Cox & Shugart 1.033646\n19      farina                        Farina 0.046282\n20      ortona                        Ortona 0.046909\n21          cd          Cosine Dissimilarity 0.000867\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.104611\n23         arr                  Lebeda’s ARR 0.068876\n24         srr                  Lebeda’s SRR 0.041482\n25        wdrr                 Lebeda’s WDRR 0.055081\n26          kl     Kullback-Leibler Surprise 0.016431\n27          lr    Likelihood Ratio Statistic      Inf\n28       chisq                   Chi Squared 0.004225\n29   hellinger            Hellinger Distance 0.087758\n30          ad              alpha-Divergence 0.009233\n\nobj_index[\"gallagher\"] # Extract Gallagher index\n\n gallagher \n0.01460875"
  },
  {
    "objectID": "man/index.html#calculate-the-disproportionality-indices.",
    "href": "man/index.html#calculate-the-disproportionality-indices.",
    "title": "PRcalc",
    "section": "",
    "text": "Calculate the disproportionality indices.\n\n\n\nindex(x, ...)\n\n## S3 method for class 'prcalc'\nindex(x, k = 2, eta = 2, alpha = 2, omit_zero = TRUE, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\n…\n\n\nignored\n\n\n\n\nk\n\n\na parameter for Generalized Gallagher index. Default is 2.\n\n\n\n\neta\n\n\na parameter for Atkinson index. Default is 2.\n\n\n\n\nalpha\n\n\na parameter for alpha-divergence. Default is 2.\n\n\n\n\nomit_zero\n\n\nIf TRUE, parties with 0 votes and 0 seats are ignored. Default is TRUE.\n\n\n\n\n\n\na prcalc_index object.\n\n\n\n\n\nLaakso, Markku and Rein Taagepera. 1979. \"\"Effective\" Number of Parties: A Measure with Application to West Europe\". Comparative Political Studies. 12 (1): 3–27.\n\n\nGallagher, Michael. 1991. \"Proportionality, Disproportionality and Electoral Systems\". Electoral Studies. 10: 33–51.\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\nobj &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nobj_index &lt;- index(obj)\nobj_index\n\n            ID                         Index    Value\n1       dhondt                       D’Hondt 1.116833\n2       monroe                        Monroe 0.018918\n3       maxdev    Maximum Absolute Deviation 0.010461\n4          rae                           Rae 0.004664\n5           lh             Loosemore & Hanby 0.030315\n6      grofman                       Grofman 0.011677\n7     lijphart                      Lijphart 0.004069\n8    gallagher                     Gallagher 0.014609\n9  g_gallagher         Generalized Gallagher 0.014609\n10       gatev                         Gatev 0.032939\n11    ryabtsev                      Ryabtsev 0.023298\n12      szalai                        Szalai 0.555712\n13    w_szalai               Weighted Szalai 0.090661\n14          ap          Aleskerov & Platonov 1.042141\n15        gini                          Gini 0.036069\n16    atkinson                      Atkinson 1.000000\n17          sl                  Sainte-Laguë 0.018466\n18          cs                 Cox & Shugart 1.033646\n19      farina                        Farina 0.046282\n20      ortona                        Ortona 0.046909\n21          cd          Cosine Dissimilarity 0.000867\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.104611\n23         arr                  Lebeda’s ARR 0.068876\n24         srr                  Lebeda’s SRR 0.041482\n25        wdrr                 Lebeda’s WDRR 0.055081\n26          kl     Kullback-Leibler Surprise 0.016431\n27          lr    Likelihood Ratio Statistic      Inf\n28       chisq                   Chi Squared 0.004225\n29   hellinger            Hellinger Distance 0.087758\n30          ad              alpha-Divergence 0.009233\n\nobj_index[\"gallagher\"] # Extract Gallagher index\n\n gallagher \n0.01460875"
  },
  {
    "objectID": "man/print.prcalc.html",
    "href": "man/print.prcalc.html",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc object.\n\n\n\n## S3 method for class 'prcalc'\nprint(x, prop = FALSE, show_total = TRUE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\nprop\n\n\nIf TRUE, voteshare and seatshare are displayed. Default is FALSE.\n\n\n\n\nshow_total\n\n\nIf TRUE, total vote (share) and seat (share) are displayed on the last column. Default is TRUE.\n\n\n\n\nuse_gt\n\n\nUse gt package? Default is FALSE.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\nsummary.prcalc\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\njp2019 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nprint(jp2019)\n\nRaw:\n      Party     Vote\n1      自民 17712373\n2      公明  6536336\n3      立憲  7917721\n4      維新  4907844\n5      共産  4483411\n6      国民  3481078\n7    れいわ  2280253\n8      社民  1046012\n9       N国   987885\n10   安楽死   269052\n11     幸福   202278\n12 オリーブ   167897\n13   労働者    80055\n\nResult:\n      Party Vote\n1      自民   18\n2      公明    7\n3      立憲    8\n4      維新    5\n5      共産    5\n6      国民    3\n7    れいわ    2\n8      社民    1\n9       N国    1\n10   安楽死    0\n11     幸福    0\n12 オリーブ    0\n13   労働者    0\n\nParameters:\n  Allocation method: D'Hondt (Jefferson) method \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: 50"
  },
  {
    "objectID": "man/print.prcalc.html#printing-a-prcalc-object.",
    "href": "man/print.prcalc.html#printing-a-prcalc-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc object.\n\n\n\n## S3 method for class 'prcalc'\nprint(x, prop = FALSE, show_total = TRUE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\nprop\n\n\nIf TRUE, voteshare and seatshare are displayed. Default is FALSE.\n\n\n\n\nshow_total\n\n\nIf TRUE, total vote (share) and seat (share) are displayed on the last column. Default is TRUE.\n\n\n\n\nuse_gt\n\n\nUse gt package? Default is FALSE.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\nsummary.prcalc\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\njp2019 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nprint(jp2019)\n\nRaw:\n      Party     Vote\n1      自民 17712373\n2      公明  6536336\n3      立憲  7917721\n4      維新  4907844\n5      共産  4483411\n6      国民  3481078\n7    れいわ  2280253\n8      社民  1046012\n9       N国   987885\n10   安楽死   269052\n11     幸福   202278\n12 オリーブ   167897\n13   労働者    80055\n\nResult:\n      Party Vote\n1      自民   18\n2      公明    7\n3      立憲    8\n4      維新    5\n5      共産    5\n6      国民    3\n7    れいわ    2\n8      社民    1\n9       N国    1\n10   安楽死    0\n11     幸福    0\n12 オリーブ    0\n13   労働者    0\n\nParameters:\n  Allocation method: D'Hondt (Jefferson) method \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: 50"
  },
  {
    "objectID": "man/summary.prcalc.html",
    "href": "man/summary.prcalc.html",
    "title": "PRcalc",
    "section": "",
    "text": "Summrizing a prcalc object.\n\n\n\n## S3 method for class 'prcalc'\nsummary(object, prop = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nobject\n\n\na prcalc object.\n\n\n\n\nprop\n\n\nIf TRUE, voteshare and seatshare are displayed. Default is FALSE.\n\n\n\n\nuse_gt\n\n\nIf TRUE, a table is rendered using {gt} package. Default is FALSE.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\nprint.prcalc\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\njp2019 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nsummary(jp2019)\n\n      Party      Raw Dist\n1      自民 17712373   18\n2      公明  6536336    7\n3      立憲  7917721    8\n4      維新  4907844    5\n5      共産  4483411    5\n6      国民  3481078    3\n7    れいわ  2280253    2\n8      社民  1046012    1\n9       N国   987885    1\n10   安楽死   269052    0\n11     幸福   202278    0\n12 オリーブ   167897    0\n13   労働者    80055    0"
  },
  {
    "objectID": "man/summary.prcalc.html#summrizing-a-prcalc-object.",
    "href": "man/summary.prcalc.html#summrizing-a-prcalc-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Summrizing a prcalc object.\n\n\n\n## S3 method for class 'prcalc'\nsummary(object, prop = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nobject\n\n\na prcalc object.\n\n\n\n\nprop\n\n\nIf TRUE, voteshare and seatshare are displayed. Default is FALSE.\n\n\n\n\nuse_gt\n\n\nIf TRUE, a table is rendered using {gt} package. Default is FALSE.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\nprint.prcalc\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\njp2019 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nsummary(jp2019)\n\n      Party      Raw Dist\n1      自民 17712373   18\n2      公明  6536336    7\n3      立憲  7917721    8\n4      維新  4907844    5\n5      共産  4483411    5\n6      国民  3481078    3\n7    れいわ  2280253    2\n8      社民  1046012    1\n9       N国   987885    1\n10   安楽死   269052    0\n11     幸福   202278    0\n12 オリーブ   167897    0\n13   労働者    80055    0"
  },
  {
    "objectID": "man/plot.prcalc_decomposition_compare.html",
    "href": "man/plot.prcalc_decomposition_compare.html",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_decomposition_compare object.\n\n\n\n## S3 method for class 'prcalc_decomposition_compare'\nplot(\n  x,\n  facet = FALSE,\n  bar_width = 0.75,\n  value_type = \"label\",\n  value_size = 3,\n  font_size = 12,\n  digits = 3,\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_decomposition_compare object.\n\n\n\n\nfacet\n\n\nDefault is FALSE.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\nvalue_type\n\n\n“label”, “text”, or “none”. Default is “label”.\n\n\n\n\nvalue_size\n\n\nDefault is 3.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\ndigits\n\n\nDefault is 3.\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_lower_2021)\n\nobj1 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"dt\")\n\nobj2 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"hare\")\n\nobj3 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"msl\")\n\nobj4 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"dt\")\n\nobj5 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"msl\")\n\ncompare(list(\"D'Hondt\"     = decompose(obj1),\n             \"Hare\"        = decompose(obj2),\n             \"Modified-SL\" = decompose(obj3))) |&gt;\n  plot()\n\n\n\n\n\n\n\ncompare(list(\"Model 1\" = decompose(obj1),\n             \"Model 2\" = decompose(obj4),\n             \"Model 3\" = decompose(obj5))) |&gt;\n  plot(facet = TRUE, value_type = \"text\", digits = 5)"
  },
  {
    "objectID": "man/plot.prcalc_decomposition_compare.html#visualization-of-a-prcalc_decomposition_compare-object.",
    "href": "man/plot.prcalc_decomposition_compare.html#visualization-of-a-prcalc_decomposition_compare-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_decomposition_compare object.\n\n\n\n## S3 method for class 'prcalc_decomposition_compare'\nplot(\n  x,\n  facet = FALSE,\n  bar_width = 0.75,\n  value_type = \"label\",\n  value_size = 3,\n  font_size = 12,\n  digits = 3,\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_decomposition_compare object.\n\n\n\n\nfacet\n\n\nDefault is FALSE.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\nvalue_type\n\n\n“label”, “text”, or “none”. Default is “label”.\n\n\n\n\nvalue_size\n\n\nDefault is 3.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\ndigits\n\n\nDefault is 3.\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_lower_2021)\n\nobj1 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"dt\")\n\nobj2 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"hare\")\n\nobj3 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"msl\")\n\nobj4 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"dt\")\n\nobj5 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"msl\")\n\ncompare(list(\"D'Hondt\"     = decompose(obj1),\n             \"Hare\"        = decompose(obj2),\n             \"Modified-SL\" = decompose(obj3))) |&gt;\n  plot()\n\n\n\n\n\n\n\ncompare(list(\"Model 1\" = decompose(obj1),\n             \"Model 2\" = decompose(obj4),\n             \"Model 3\" = decompose(obj5))) |&gt;\n  plot(facet = TRUE, value_type = \"text\", digits = 5)"
  },
  {
    "objectID": "man/jp_census_1920.html",
    "href": "man/jp_census_1920.html",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口\n\n\n\ndata(jp_census_1920)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/jp_census_1920.html#都道府県別人口-1920年",
    "href": "man/jp_census_1920.html#都道府県別人口-1920年",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口\n\n\n\ndata(jp_census_1920)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/print.prcalc_compare.html",
    "href": "man/print.prcalc_compare.html",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_compare object.\n\n\n\n## S3 method for class 'prcalc_compare'\nprint(x, subset = NULL, prop = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_compare object.\n\n\n\n\nsubset\n\n\na\n\n\n\n\nprop\n\n\na\n\n\n\n\nuse_gt\n\n\nUse gt packages? Default is FALSE.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\ncompare(list(\"t = 0%\" = pr_obj1, \"t = 2.5%\" = pr_obj2, \"t = 5%\" = pr_obj3))\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = pr_obj1,\n     \"t = 2.5%\" = pr_obj2,\n     \"t = 5%\"   = pr_obj3) |&gt;\n  compare() |&gt;\n  print()\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = pr_obj1,\n     \"t = 2.5%\" = pr_obj2,\n     \"t = 5%\"   = pr_obj3) |&gt;\n  compare() |&gt;\n  print(subset = c(\"自民\", \"公明\", \"立憲\", \"共産\", \"維新\"))\n\n  Party t = 0% t = 2.5% t = 5%\n1  自民     18       19     20\n2  公明      7        7      7\n3  立憲      8        9      9\n4  維新      5        5      5\n5  共産      5        5      5"
  },
  {
    "objectID": "man/print.prcalc_compare.html#printing-a-prcalc_compare-object.",
    "href": "man/print.prcalc_compare.html#printing-a-prcalc_compare-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_compare object.\n\n\n\n## S3 method for class 'prcalc_compare'\nprint(x, subset = NULL, prop = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_compare object.\n\n\n\n\nsubset\n\n\na\n\n\n\n\nprop\n\n\na\n\n\n\n\nuse_gt\n\n\nUse gt packages? Default is FALSE.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\ncompare(list(\"t = 0%\" = pr_obj1, \"t = 2.5%\" = pr_obj2, \"t = 5%\" = pr_obj3))\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = pr_obj1,\n     \"t = 2.5%\" = pr_obj2,\n     \"t = 5%\"   = pr_obj3) |&gt;\n  compare() |&gt;\n  print()\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = pr_obj1,\n     \"t = 2.5%\" = pr_obj2,\n     \"t = 5%\"   = pr_obj3) |&gt;\n  compare() |&gt;\n  print(subset = c(\"自民\", \"公明\", \"立憲\", \"共産\", \"維新\"))\n\n  Party t = 0% t = 2.5% t = 5%\n1  自民     18       19     20\n2  公明      7        7      7\n3  立憲      8        9      9\n4  維新      5        5      5\n5  共産      5        5      5"
  },
  {
    "objectID": "man/kr_lower_2008.html",
    "href": "man/kr_lower_2008.html",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2008年)\n\n\n\ndata(kr_lower_2008)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "man/kr_lower_2008.html#韓国国会議員総選挙比例区得票数-2008年",
    "href": "man/kr_lower_2008.html#韓国国会議員総選挙比例区得票数-2008年",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2008年)\n\n\n\ndata(kr_lower_2008)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "man/plot.prcalc.html",
    "href": "man/plot.prcalc.html",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc object.\n\n\n\n## S3 method for class 'prcalc'\nplot(\n  x,\n  type = \"both\",\n  prop = TRUE,\n  show_total = TRUE,\n  by = \"block\",\n  subset_b = NULL,\n  subset_p = NULL,\n  free_y = FALSE,\n  font_size = 12,\n  angle = 0,\n  facet_col = 4,\n  legend_pos = \"bottom\",\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\ntype\n\n\na plot of votes (“raw”), allocation (“dist”), or both (“both”). Default is “both”.\n\n\n\n\nprop\n\n\nOutput at a percentage. If type is “both”, it is ignored. Default is TRUE.\n\n\n\n\nshow_total\n\n\nIf TRUE, a facet names \"Total\" is diplayed. Default is TRUE.\n\n\n\n\nby\n\n\nFacets by blocks (“block”) or parties (“party”). Default is “block”.\n\n\n\n\nsubset_b\n\n\na character vector of block names.\n\n\n\n\nsubset_p\n\n\na character vector of party names.\n\n\n\n\nfree_y\n\n\nIf FALSE, y-axes are fixed over all facets. Default is TRUE.\n\n\n\n\nfont_size\n\n\na font size.\n\n\n\n\nangle\n\n\nan angle of x-ticks label (0 to 90). Defualt is 0.\n\n\n\n\nfacet_col\n\n\na number of columns of facets.\n\n\n\n\nlegend_pos\n\n\na position of legend. Default is “bottom”\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\ndata(jp_lower_2021)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\nplot(pr_obj1)\n\n\n\n\n\n\n\npr_obj2 &lt;- prcalc(jp_lower_2021,\n                  m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n                  method = \"hare\")\nplot(pr_obj2, angle = 90)\n\n\n\n\n\n\n\nplot(pr_obj2, subset_p = c(\"自民\", \"公明\", \"立憲\", \"維新\", \"国民\"))\n\n\n\n\n\n\n\nplot(pr_obj2, subset_b = c(\"Tokyo\", \"Kinki\"), facet_col = 1)\n\n\n\n\n\n\n\nplot(pr_obj2, by = \"party\",\n     subset_p = c(\"自民\", \"公明\", \"立憲\", \"維新\"),\n     subset_b = c(\"Hokkaido\", \"Tohoku\", \"Tokyo\", \"Kinki\"))"
  },
  {
    "objectID": "man/plot.prcalc.html#visualization-of-a-prcalc-object.",
    "href": "man/plot.prcalc.html#visualization-of-a-prcalc-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc object.\n\n\n\n## S3 method for class 'prcalc'\nplot(\n  x,\n  type = \"both\",\n  prop = TRUE,\n  show_total = TRUE,\n  by = \"block\",\n  subset_b = NULL,\n  subset_p = NULL,\n  free_y = FALSE,\n  font_size = 12,\n  angle = 0,\n  facet_col = 4,\n  legend_pos = \"bottom\",\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc object.\n\n\n\n\ntype\n\n\na plot of votes (“raw”), allocation (“dist”), or both (“both”). Default is “both”.\n\n\n\n\nprop\n\n\nOutput at a percentage. If type is “both”, it is ignored. Default is TRUE.\n\n\n\n\nshow_total\n\n\nIf TRUE, a facet names \"Total\" is diplayed. Default is TRUE.\n\n\n\n\nby\n\n\nFacets by blocks (“block”) or parties (“party”). Default is “block”.\n\n\n\n\nsubset_b\n\n\na character vector of block names.\n\n\n\n\nsubset_p\n\n\na character vector of party names.\n\n\n\n\nfree_y\n\n\nIf FALSE, y-axes are fixed over all facets. Default is TRUE.\n\n\n\n\nfont_size\n\n\na font size.\n\n\n\n\nangle\n\n\nan angle of x-ticks label (0 to 90). Defualt is 0.\n\n\n\n\nfacet_col\n\n\na number of columns of facets.\n\n\n\n\nlegend_pos\n\n\na position of legend. Default is “bottom”\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\ndata(jp_lower_2021)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\nplot(pr_obj1)\n\n\n\n\n\n\n\npr_obj2 &lt;- prcalc(jp_lower_2021,\n                  m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n                  method = \"hare\")\nplot(pr_obj2, angle = 90)\n\n\n\n\n\n\n\nplot(pr_obj2, subset_p = c(\"自民\", \"公明\", \"立憲\", \"維新\", \"国民\"))\n\n\n\n\n\n\n\nplot(pr_obj2, subset_b = c(\"Tokyo\", \"Kinki\"), facet_col = 1)\n\n\n\n\n\n\n\nplot(pr_obj2, by = \"party\",\n     subset_p = c(\"自民\", \"公明\", \"立憲\", \"維新\"),\n     subset_b = c(\"Hokkaido\", \"Tohoku\", \"Tokyo\", \"Kinki\"))"
  },
  {
    "objectID": "man/plot.prcalc_compare.html",
    "href": "man/plot.prcalc_compare.html",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_compare object.\n\n\n\n## S3 method for class 'prcalc_compare'\nplot(\n  x,\n  bar_width = 0.75,\n  facet = FALSE,\n  free_y = TRUE,\n  font_size = 12,\n  angle = 0,\n  facet_col = 4,\n  legend_pos = \"bottom\",\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_compare object.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\nfacet\n\n\nSeparate facets by parties? Default is FALSE.\n\n\n\n\nfree_y\n\n\nDefault is TRUE.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\nangle\n\n\nan angle of x-ticks label (0 to 90). Defualt is 0.\n\n\n\n\nfacet_col\n\n\na number of columns of facets. Default is 4.\n\n\n\n\nlegend_pos\n\n\na position of legend. Default is “bottom”\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\nlist(\"t = 0%\"   = pr_obj1,\n     \"t = 2.5%\" = pr_obj2,\n     \"t = 5%\"   = pr_obj3) |&gt;\n  compare() |&gt;\n  plot()"
  },
  {
    "objectID": "man/plot.prcalc_compare.html#visualization-of-a-prcalc_compare-object.",
    "href": "man/plot.prcalc_compare.html#visualization-of-a-prcalc_compare-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_compare object.\n\n\n\n## S3 method for class 'prcalc_compare'\nplot(\n  x,\n  bar_width = 0.75,\n  facet = FALSE,\n  free_y = TRUE,\n  font_size = 12,\n  angle = 0,\n  facet_col = 4,\n  legend_pos = \"bottom\",\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_compare object.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\nfacet\n\n\nSeparate facets by parties? Default is FALSE.\n\n\n\n\nfree_y\n\n\nDefault is TRUE.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\nangle\n\n\nan angle of x-ticks label (0 to 90). Defualt is 0.\n\n\n\n\nfacet_col\n\n\na number of columns of facets. Default is 4.\n\n\n\n\nlegend_pos\n\n\na position of legend. Default is “bottom”\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\nlist(\"t = 0%\"   = pr_obj1,\n     \"t = 2.5%\" = pr_obj2,\n     \"t = 5%\"   = pr_obj3) |&gt;\n  compare() |&gt;\n  plot()"
  },
  {
    "objectID": "man/jp_lower_2009.html",
    "href": "man/jp_lower_2009.html",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2009年)\n\n\n\ndata(jp_lower_2009)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2009.html#衆議院議員総選挙比例区得票数-2009年",
    "href": "man/jp_lower_2009.html#衆議院議員総選挙比例区得票数-2009年",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2009年)\n\n\n\ndata(jp_lower_2009)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2021.html",
    "href": "man/jp_lower_2021.html",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2021年)\n\n\n\ndata(jp_lower_2021)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_lower_2021.html#衆議院議員総選挙比例区得票数-2021年",
    "href": "man/jp_lower_2021.html#衆議院議員総選挙比例区得票数-2021年",
    "title": "PRcalc",
    "section": "",
    "text": "衆議院議員総選挙比例区の得票数 (2021年)\n\n\n\ndata(jp_lower_2021)\n\n\n\n\nA data frame with 47 rows and 12 variables:\n\n\nParty\n\n\n政党名; character\n\n\nHokkaido\n\n\n北海道ブロックの得票数; numeric\n\n\nTohoku\n\n\n東北ブロックの得票数; numeric\n\n\nKitakanto\n\n\n北関東ブロックの得票数; numeric\n\n\nMinamikanto\n\n\n南関東ブロックの得票数; numeric\n\n\nTokyo\n\n\n東京ブロックの得票数; numeric\n\n\nHokuriku\n\n\n北陸信越ブロックの得票数; numeric\n\n\nTokai\n\n\n東海ブロックの得票数; numeric\n\n\nKinki\n\n\n近畿ブロックの得票数; numeric\n\n\nChugoku\n\n\n中国ブロックの得票数; numeric\n\n\nShikoku\n\n\n四国ブロックの得票数; numeric\n\n\nKyushu\n\n\n九州ブロックの得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/prcalc.html",
    "href": "man/prcalc.html",
    "title": "PRcalc",
    "section": "",
    "text": "Proportional Representation Calculator\n\n\n\nprcalc(x, m, method, extra = NULL, threshold = 0)\n\n\n\n\n\n\n\nx\n\n\na data.frame or tibble object.\n\n\n\n\nm\n\n\na numeric vector of magnitude.\n\n\n\n\nmethod\n\n\na character string giving a method for computing seat allocation. See \"Allocation methods\" section.\n\n\n\n\nextra\n\n\na numeric vector of length m. If method is “custom”, this parameter is mandatory. Otherwise, it is ignored.\n\n\n\n\nthreshold\n\n\na threshold. It must be equal or larger than 0 (0%) and smaller than 0.1 (10%). a default is 0.\n\n\n\n\n\n\na prcalc object\n\n\n\nprint.prcalc, summary.prcalc, plot.prcalc\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\ndata(jp_lower_2021)\nprcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nRaw:\n      Party     Vote\n1      自民 17712373\n2      公明  6536336\n3      立憲  7917721\n4      維新  4907844\n5      共産  4483411\n6      国民  3481078\n7    れいわ  2280253\n8      社民  1046012\n9       N国   987885\n10   安楽死   269052\n11     幸福   202278\n12 オリーブ   167897\n13   労働者    80055\n\nResult:\n      Party Vote\n1      自民   18\n2      公明    7\n3      立憲    8\n4      維新    5\n5      共産    5\n6      国民    3\n7    れいわ    2\n8      社民    1\n9       N国    1\n10   安楽死    0\n11     幸福    0\n12 オリーブ    0\n13   労働者    0\n\nParameters:\n  Allocation method: D'Hondt (Jefferson) method \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: 50\n\njapan_2021 &lt;- prcalc(jp_lower_2021,\n                     m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n                     method = \"hare\")"
  },
  {
    "objectID": "man/prcalc.html#proportional-representation-calculator",
    "href": "man/prcalc.html#proportional-representation-calculator",
    "title": "PRcalc",
    "section": "",
    "text": "Proportional Representation Calculator\n\n\n\nprcalc(x, m, method, extra = NULL, threshold = 0)\n\n\n\n\n\n\n\nx\n\n\na data.frame or tibble object.\n\n\n\n\nm\n\n\na numeric vector of magnitude.\n\n\n\n\nmethod\n\n\na character string giving a method for computing seat allocation. See \"Allocation methods\" section.\n\n\n\n\nextra\n\n\na numeric vector of length m. If method is “custom”, this parameter is mandatory. Otherwise, it is ignored.\n\n\n\n\nthreshold\n\n\na threshold. It must be equal or larger than 0 (0%) and smaller than 0.1 (10%). a default is 0.\n\n\n\n\n\n\na prcalc object\n\n\n\nprint.prcalc, summary.prcalc, plot.prcalc\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\ndata(jp_lower_2021)\nprcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nRaw:\n      Party     Vote\n1      自民 17712373\n2      公明  6536336\n3      立憲  7917721\n4      維新  4907844\n5      共産  4483411\n6      国民  3481078\n7    れいわ  2280253\n8      社民  1046012\n9       N国   987885\n10   安楽死   269052\n11     幸福   202278\n12 オリーブ   167897\n13   労働者    80055\n\nResult:\n      Party Vote\n1      自民   18\n2      公明    7\n3      立憲    8\n4      維新    5\n5      共産    5\n6      国民    3\n7    れいわ    2\n8      社民    1\n9       N国    1\n10   安楽死    0\n11     幸福    0\n12 オリーブ    0\n13   労働者    0\n\nParameters:\n  Allocation method: D'Hondt (Jefferson) method \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: 50\n\njapan_2021 &lt;- prcalc(jp_lower_2021,\n                     m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n                     method = \"hare\")"
  },
  {
    "objectID": "man/jp_upper_2019.html",
    "href": "man/jp_upper_2019.html",
    "title": "PRcalc",
    "section": "",
    "text": "参議院議員通常選挙比例区の得票数 (2019年)\n\n\n\ndata(jp_upper_2019)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_upper_2019.html#参議院議員通常選挙比例区得票数-2019年",
    "href": "man/jp_upper_2019.html#参議院議員通常選挙比例区得票数-2019年",
    "title": "PRcalc",
    "section": "",
    "text": "参議院議員通常選挙比例区の得票数 (2019年)\n\n\n\ndata(jp_upper_2019)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n総務省"
  },
  {
    "objectID": "man/jp_census_1945.html",
    "href": "man/jp_census_1945.html",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口 (1945年)\n\n\n\ndata(jp_census_1945)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/jp_census_1945.html#都道府県別人口-1945年",
    "href": "man/jp_census_1945.html#都道府県別人口-1945年",
    "title": "PRcalc",
    "section": "",
    "text": "47都道府県の人口 (1945年)\n\n\n\ndata(jp_census_1945)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nPref\n\n\n都道府県名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\n国勢調査"
  },
  {
    "objectID": "man/plot.prcalc_index_compare.html",
    "href": "man/plot.prcalc_index_compare.html",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_index_compare object.\n\n\n\n## S3 method for class 'prcalc_index_compare'\nplot(\n  x,\n  index = NULL,\n  style = \"bar\",\n  bar_width = 0.75,\n  point_size = 5,\n  facet = FALSE,\n  free_x = TRUE,\n  font_size = 12,\n  facet_col = 4,\n  legend_pos = \"bottom\",\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index_compare object.\n\n\n\n\nindex\n\n\na character vector of disproportionality indices. If NULL, all indices are displayed.\n\n\n\n\nstyle\n\n\nPlot style. Lollipop (“lollipop) or bar plot (”bar”). Default is “bar”.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\npoint_size\n\n\nDefault is 5.\n\n\n\n\nfacet\n\n\n政党ごとにfacet分割. Default is FALSE.\n\n\n\n\nfree_x\n\n\nDefault is TRUE.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\nfacet_col\n\n\na number of columns of facets. Default is 4.\n\n\n\n\nlegend_pos\n\n\na position of legend. Default is “bottom”\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare() |&gt;\n  plot()\n\n\n\n\n\n\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare() |&gt;\n  plot(index = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"))"
  },
  {
    "objectID": "man/plot.prcalc_index_compare.html#visualization-of-a-prcalc_index_compare-object.",
    "href": "man/plot.prcalc_index_compare.html#visualization-of-a-prcalc_index_compare-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_index_compare object.\n\n\n\n## S3 method for class 'prcalc_index_compare'\nplot(\n  x,\n  index = NULL,\n  style = \"bar\",\n  bar_width = 0.75,\n  point_size = 5,\n  facet = FALSE,\n  free_x = TRUE,\n  font_size = 12,\n  facet_col = 4,\n  legend_pos = \"bottom\",\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index_compare object.\n\n\n\n\nindex\n\n\na character vector of disproportionality indices. If NULL, all indices are displayed.\n\n\n\n\nstyle\n\n\nPlot style. Lollipop (“lollipop) or bar plot (”bar”). Default is “bar”.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\npoint_size\n\n\nDefault is 5.\n\n\n\n\nfacet\n\n\n政党ごとにfacet分割. Default is FALSE.\n\n\n\n\nfree_x\n\n\nDefault is TRUE.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\nfacet_col\n\n\na number of columns of facets. Default is 4.\n\n\n\n\nlegend_pos\n\n\na position of legend. Default is “bottom”\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare() |&gt;\n  plot()\n\n\n\n\n\n\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare() |&gt;\n  plot(index = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"))"
  },
  {
    "objectID": "man/print.prcalc_decomposition.html",
    "href": "man/print.prcalc_decomposition.html",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_decomposition object.\n\n\n\n## S3 method for class 'prcalc_decomposition'\nprint(x, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_decomposition object.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_lower_2021)\n\nobj &lt;- prcalc(jp_lower_2021[1:9, ],\n              m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n              method = \"hare\")\n\ndecompose(obj)\n\nalpha-divergence  Reapportionment    Redistricting \n     0.038552104      0.003095531      0.035456573"
  },
  {
    "objectID": "man/print.prcalc_decomposition.html#printing-a-prcalc_decomposition-object.",
    "href": "man/print.prcalc_decomposition.html#printing-a-prcalc_decomposition-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_decomposition object.\n\n\n\n## S3 method for class 'prcalc_decomposition'\nprint(x, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_decomposition object.\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_lower_2021)\n\nobj &lt;- prcalc(jp_lower_2021[1:9, ],\n              m = c(8, 14, 20, 21, 17, 11, 21, 30, 11, 6, 21),\n              method = \"hare\")\n\ndecompose(obj)\n\nalpha-divergence  Reapportionment    Redistricting \n     0.038552104      0.003095531      0.035456573"
  },
  {
    "objectID": "man/plot.prcalc_index.html",
    "href": "man/plot.prcalc_index.html",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_index object.\n\n\n\n## S3 method for class 'prcalc_index'\nplot(\n  x,\n  index = NULL,\n  style = \"bar\",\n  bar_width = 0.75,\n  point_size = 5,\n  font_size = 12,\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index object.\n\n\n\n\nindex\n\n\na character vector. A subset of indices. If NULL, all indices are displayed. Default is NULL.\n\n\n\n\nstyle\n\n\nPlot style. Lollipop (“lollipop) or bar plot (”bar”). Default is “bar”.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\npoint_size\n\n\nDefault is 5.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nplot(index(pr_obj))\n\n\n\n\n\n\n\nplot(index(pr_obj), style = \"lollipop\",\n     index = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"))"
  },
  {
    "objectID": "man/plot.prcalc_index.html#visualization-of-a-prcalc_index-object.",
    "href": "man/plot.prcalc_index.html#visualization-of-a-prcalc_index-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Visualization of a prcalc_index object.\n\n\n\n## S3 method for class 'prcalc_index'\nplot(\n  x,\n  index = NULL,\n  style = \"bar\",\n  bar_width = 0.75,\n  point_size = 5,\n  font_size = 12,\n  ...\n)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index object.\n\n\n\n\nindex\n\n\na character vector. A subset of indices. If NULL, all indices are displayed. Default is NULL.\n\n\n\n\nstyle\n\n\nPlot style. Lollipop (“lollipop) or bar plot (”bar”). Default is “bar”.\n\n\n\n\nbar_width\n\n\nDefault is 0.75.\n\n\n\n\npoint_size\n\n\nDefault is 5.\n\n\n\n\nfont_size\n\n\na font size. Default is 12.\n\n\n\n\n…\n\n\nIgnored\n\n\n\n\n\n\nA ggplot object.\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nplot(index(pr_obj))\n\n\n\n\n\n\n\nplot(index(pr_obj), style = \"lollipop\",\n     index = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"))"
  },
  {
    "objectID": "man/us_census_2020.html",
    "href": "man/us_census_2020.html",
    "title": "PRcalc",
    "section": "",
    "text": "アメリカ州別人口 (2020年)\n\n\n\ndata(us_census_2020)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nState\n\n\n州名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\nU.S. Census Bureau"
  },
  {
    "objectID": "man/us_census_2020.html#アメリカ州別人口-2020年",
    "href": "man/us_census_2020.html#アメリカ州別人口-2020年",
    "title": "PRcalc",
    "section": "",
    "text": "アメリカ州別人口 (2020年)\n\n\n\ndata(us_census_2020)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nState\n\n\n州名; character\n\n\nPop\n\n\n人口; numeric\n\n\n\n\n\nU.S. Census Bureau"
  },
  {
    "objectID": "man/kr_lower_2012.html",
    "href": "man/kr_lower_2012.html",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2012年)\n\n\n\ndata(kr_lower_2012)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "man/kr_lower_2012.html#韓国国会議員総選挙比例区得票数-2012年",
    "href": "man/kr_lower_2012.html#韓国国会議員総選挙比例区得票数-2012年",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2012年)\n\n\n\ndata(kr_lower_2012)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "man/print.prcalc_index_compare.html",
    "href": "man/print.prcalc_index_compare.html",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_index_compare object.\n\n\n\n## S3 method for class 'prcalc_index_compare'\nprint(x, subset = NULL, hide_id = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index_compare object.\n\n\n\n\nsubset\n\n\na\n\n\n\n\nhide_id\n\n\na\n\n\n\n\nuse_gt\n\n\na\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\ncompare(list(\"t = 0%\" = pr_obj1, \"t = 2.5%\" = pr_obj2, \"t = 5%\" = pr_obj3))\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare() |&gt;\n  print(subset  = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"),\n        hide_id = TRUE)\n\n              Index  t = 0% t = 2.5% t = 5%\n1           D’Hondt 1.11683   1.1383 1.1507\n2               Rae 0.00466   0.0108 0.0155\n3 Loosemore & Hanby 0.03032   0.0700 0.1005\n4         Gallagher 0.01461   0.0345 0.0543\n5  alpha-Divergence 0.00923   0.0319 0.0566"
  },
  {
    "objectID": "man/print.prcalc_index_compare.html#printing-a-prcalc_index_compare-object.",
    "href": "man/print.prcalc_index_compare.html#printing-a-prcalc_index_compare-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_index_compare object.\n\n\n\n## S3 method for class 'prcalc_index_compare'\nprint(x, subset = NULL, hide_id = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index_compare object.\n\n\n\n\nsubset\n\n\na\n\n\n\n\nhide_id\n\n\na\n\n\n\n\nuse_gt\n\n\na\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj1 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\npr_obj2 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.025)\npr_obj3 &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\", threshold = 0.05)\n\ncompare(list(\"t = 0%\" = pr_obj1, \"t = 2.5%\" = pr_obj2, \"t = 5%\" = pr_obj3))\n\n      Party t = 0% t = 2.5% t = 5%\n1      自民     18       19     20\n2      公明      7        7      7\n3      立憲      8        9      9\n4      維新      5        5      5\n5      共産      5        5      5\n6      国民      3        3      4\n7    れいわ      2        2      0\n8      社民      1        0      0\n9       N国      1        0      0\n10   安楽死      0        0      0\n11     幸福      0        0      0\n12 オリーブ      0        0      0\n13   労働者      0        0      0\n\nlist(\"t = 0%\"   = index(pr_obj1),\n     \"t = 2.5%\" = index(pr_obj2),\n     \"t = 5%\"   = index(pr_obj3)) |&gt;\n  compare() |&gt;\n  print(subset  = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"),\n        hide_id = TRUE)\n\n              Index  t = 0% t = 2.5% t = 5%\n1           D’Hondt 1.11683   1.1383 1.1507\n2               Rae 0.00466   0.0108 0.0155\n3 Loosemore & Hanby 0.03032   0.0700 0.1005\n4         Gallagher 0.01461   0.0345 0.0543\n5  alpha-Divergence 0.00923   0.0319 0.0566"
  },
  {
    "objectID": "man/kr_lower_2004.html",
    "href": "man/kr_lower_2004.html",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2004年)\n\n\n\ndata(kr_lower_2004)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "man/kr_lower_2004.html#韓国国会議員総選挙比例区得票数-2004年",
    "href": "man/kr_lower_2004.html#韓国国会議員総選挙比例区得票数-2004年",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2004年)\n\n\n\ndata(kr_lower_2004)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "man/print.prcalc_index.html",
    "href": "man/print.prcalc_index.html",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_index object.\n\n\n\n## S3 method for class 'prcalc_index'\nprint(x, subset = NULL, hide_id = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index object.\n\n\n\n\nsubset\n\n\na\n\n\n\n\nhide_id\n\n\na\n\n\n\n\nuse_gt\n\n\na\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nindex(pr_obj)\n\n            ID                         Index    Value\n1       dhondt                       D’Hondt 1.116833\n2       monroe                        Monroe 0.018918\n3       maxdev    Maximum Absolute Deviation 0.010461\n4          rae                           Rae 0.004664\n5           lh             Loosemore & Hanby 0.030315\n6      grofman                       Grofman 0.011677\n7     lijphart                      Lijphart 0.004069\n8    gallagher                     Gallagher 0.014609\n9  g_gallagher         Generalized Gallagher 0.014609\n10       gatev                         Gatev 0.032939\n11    ryabtsev                      Ryabtsev 0.023298\n12      szalai                        Szalai 0.555712\n13    w_szalai               Weighted Szalai 0.090661\n14          ap          Aleskerov & Platonov 1.042141\n15        gini                          Gini 0.036069\n16    atkinson                      Atkinson 1.000000\n17          sl                  Sainte-Laguë 0.018466\n18          cs                 Cox & Shugart 1.033646\n19      farina                        Farina 0.046282\n20      ortona                        Ortona 0.046909\n21          cd          Cosine Dissimilarity 0.000867\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.104611\n23         arr                  Lebeda’s ARR 0.068876\n24         srr                  Lebeda’s SRR 0.041482\n25        wdrr                 Lebeda’s WDRR 0.055081\n26          kl     Kullback-Leibler Surprise 0.016431\n27          lr    Likelihood Ratio Statistic      Inf\n28       chisq                   Chi Squared 0.004225\n29   hellinger            Hellinger Distance 0.087758\n30          ad              alpha-Divergence 0.009233\n\nindex(pr_obj) |&gt;\n  print(subset = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"))\n\n         ID             Index   Value\n1    dhondt           D’Hondt 1.11683\n2       rae               Rae 0.00466\n3        lh Loosemore & Hanby 0.03032\n4 gallagher         Gallagher 0.01461\n5        ad  alpha-Divergence 0.00923"
  },
  {
    "objectID": "man/print.prcalc_index.html#printing-a-prcalc_index-object.",
    "href": "man/print.prcalc_index.html#printing-a-prcalc_index-object.",
    "title": "PRcalc",
    "section": "",
    "text": "Printing a prcalc_index object.\n\n\n\n## S3 method for class 'prcalc_index'\nprint(x, subset = NULL, hide_id = FALSE, use_gt = FALSE, digits = 3, ...)\n\n\n\n\n\n\n\nx\n\n\na prcalc_index object.\n\n\n\n\nsubset\n\n\na\n\n\n\n\nhide_id\n\n\na\n\n\n\n\nuse_gt\n\n\na\n\n\n\n\ndigits\n\n\nthe number of decimal places. Default is 3.\n\n\n\n\n…\n\n\nignored.\n\n\n\n\n\n\n\nlibrary(PRcalc)\n\ndata(jp_upper_2019)\n\npr_obj &lt;- prcalc(jp_upper_2019, m = 50, method = \"dt\")\n\nindex(pr_obj)\n\n            ID                         Index    Value\n1       dhondt                       D’Hondt 1.116833\n2       monroe                        Monroe 0.018918\n3       maxdev    Maximum Absolute Deviation 0.010461\n4          rae                           Rae 0.004664\n5           lh             Loosemore & Hanby 0.030315\n6      grofman                       Grofman 0.011677\n7     lijphart                      Lijphart 0.004069\n8    gallagher                     Gallagher 0.014609\n9  g_gallagher         Generalized Gallagher 0.014609\n10       gatev                         Gatev 0.032939\n11    ryabtsev                      Ryabtsev 0.023298\n12      szalai                        Szalai 0.555712\n13    w_szalai               Weighted Szalai 0.090661\n14          ap          Aleskerov & Platonov 1.042141\n15        gini                          Gini 0.036069\n16    atkinson                      Atkinson 1.000000\n17          sl                  Sainte-Laguë 0.018466\n18          cs                 Cox & Shugart 1.033646\n19      farina                        Farina 0.046282\n20      ortona                        Ortona 0.046909\n21          cd          Cosine Dissimilarity 0.000867\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.104611\n23         arr                  Lebeda’s ARR 0.068876\n24         srr                  Lebeda’s SRR 0.041482\n25        wdrr                 Lebeda’s WDRR 0.055081\n26          kl     Kullback-Leibler Surprise 0.016431\n27          lr    Likelihood Ratio Statistic      Inf\n28       chisq                   Chi Squared 0.004225\n29   hellinger            Hellinger Distance 0.087758\n30          ad              alpha-Divergence 0.009233\n\nindex(pr_obj) |&gt;\n  print(subset = c(\"lh\", \"gallagher\", \"rae\", \"dhondt\", \"ad\"))\n\n         ID             Index   Value\n1    dhondt           D’Hondt 1.11683\n2       rae               Rae 0.00466\n3        lh Loosemore & Hanby 0.03032\n4 gallagher         Gallagher 0.01461\n5        ad  alpha-Divergence 0.00923"
  },
  {
    "objectID": "man/kr_lower_2016.html",
    "href": "man/kr_lower_2016.html",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2016年)\n\n\n\ndata(kr_lower_2016)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "man/kr_lower_2016.html#韓国国会議員総選挙比例区得票数-2016年",
    "href": "man/kr_lower_2016.html#韓国国会議員総選挙比例区得票数-2016年",
    "title": "PRcalc",
    "section": "",
    "text": "韓国国会議員総選挙比例区の得票数 (2016年)\n\n\n\ndata(kr_lower_2016)\n\n\n\n\nA data frame with 47 rows and 2 variables:\n\n\nParty\n\n\n政党名; character\n\n\nVote\n\n\n各政党の得票数; numeric\n\n\n\n\n\n韓国中央選挙管理委員会"
  },
  {
    "objectID": "vignettes/04_comparison.html",
    "href": "vignettes/04_comparison.html",
    "title": "Comparison",
    "section": "",
    "text": "library(PRcalc)\n\n\nAttaching package: 'PRcalc'\n\n\nThe following object is masked from 'package:stats':\n\n    decompose\n\ndata(\"jp_lower_2021\")\njp_lower_2021\n\n    Party Hokkaido  Tohoku Kitakanto Minamikanto   Tokyo Hokuriku   Tokai\n1    自民   863300 1628233   2172065     2590787 2000084  1468380 2515841\n2    公明   294371  456287    823930      850667  715450   322535  784976\n3    立憲   682913  991505   1391149     1651562 1293281   773076 1485947\n4    共産   207189  292830    444115      534493  670340   225551  408606\n5    維新   215344  258690    617531      863897  858577   361476  694630\n6    国民    73621  195754    298056      384482  306180   133600  382734\n7    社民    41248  101442     97963      124447   92995    71185   84220\n8    れ新   102086  143265    239592      302675  360387   111281  273208\n9     N党    42916   52664     87702      111298   92353    43529   98238\n10 支なし    46142       0         0           0       0        0       0\n11   第一        0       0         0           0   33661        0       0\n12 やまと        0       0         0           0   16970        0       0\n13 コロナ        0       0         0           0    6620        0       0\n     Kinki Chugoku Shikoku  Kyushu\n1  2407699 1352723  664805 2250966\n2  1155683  436220  233407 1040756\n3  1090666  573324  291871 1266801\n4   736156  173117  108021  365658\n5  3180219  286302  173826  540338\n6   303480  113899  122082  279509\n7   100980   52638   30249  221221\n8   292483   94446   52941  243284\n9   111539   36758   21285   98506\n10       0       0       0       0\n11       0       0       0       0\n12       0       0       0       0\n13       0       0       0       0\n\nobj1 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"dt\")\n\nobj2 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"hare\")\n\nobj3 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"sl\")"
  },
  {
    "objectID": "vignettes/04_comparison.html#preparation",
    "href": "vignettes/04_comparison.html#preparation",
    "title": "Comparison",
    "section": "",
    "text": "library(PRcalc)\n\n\nAttaching package: 'PRcalc'\n\n\nThe following object is masked from 'package:stats':\n\n    decompose\n\ndata(\"jp_lower_2021\")\njp_lower_2021\n\n    Party Hokkaido  Tohoku Kitakanto Minamikanto   Tokyo Hokuriku   Tokai\n1    自民   863300 1628233   2172065     2590787 2000084  1468380 2515841\n2    公明   294371  456287    823930      850667  715450   322535  784976\n3    立憲   682913  991505   1391149     1651562 1293281   773076 1485947\n4    共産   207189  292830    444115      534493  670340   225551  408606\n5    維新   215344  258690    617531      863897  858577   361476  694630\n6    国民    73621  195754    298056      384482  306180   133600  382734\n7    社民    41248  101442     97963      124447   92995    71185   84220\n8    れ新   102086  143265    239592      302675  360387   111281  273208\n9     N党    42916   52664     87702      111298   92353    43529   98238\n10 支なし    46142       0         0           0       0        0       0\n11   第一        0       0         0           0   33661        0       0\n12 やまと        0       0         0           0   16970        0       0\n13 コロナ        0       0         0           0    6620        0       0\n     Kinki Chugoku Shikoku  Kyushu\n1  2407699 1352723  664805 2250966\n2  1155683  436220  233407 1040756\n3  1090666  573324  291871 1266801\n4   736156  173117  108021  365658\n5  3180219  286302  173826  540338\n6   303480  113899  122082  279509\n7   100980   52638   30249  221221\n8   292483   94446   52941  243284\n9   111539   36758   21285   98506\n10       0       0       0       0\n11       0       0       0       0\n12       0       0       0       0\n13       0       0       0       0\n\nobj1 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"dt\")\n\nobj2 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"hare\")\n\nobj3 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"sl\")"
  },
  {
    "objectID": "vignettes/04_comparison.html#comparison",
    "href": "vignettes/04_comparison.html#comparison",
    "title": "Comparison",
    "section": "Comparison",
    "text": "Comparison\n\nSeat allocation\n\ncompare(list(obj1, obj2))\n\n    Party Model1 Model2\n1    自民     67     62\n2    公明     24     23\n3    立憲     40     36\n4    共産     10     13\n5    維新     26     26\n6    国民      5      8\n7    社民      0      1\n8    れ新      4      7\n9     N党      0      0\n10 支なし      0      0\n11   第一      0      0\n12 やまと      0      0\n13 コロナ      0      0\n\ncompare(list(\"ドント式\" = obj1, \"ヘア式\" = obj2, \"サン＝ラゲ式\" = obj3)) \n\n    Party ドント式 ヘア式 サン＝ラゲ式\n1    自民       67     62           63\n2    公明       24     23           24\n3    立憲       40     36           36\n4    共産       10     13           13\n5    維新       26     26           26\n6    国民        5      8            7\n7    社民        0      1            1\n8    れ新        4      7            6\n9     N党        0      0            0\n10 支なし        0      0            0\n11   第一        0      0            0\n12 やまと        0      0            0\n13 コロナ        0      0            0\n\ncompare(list(\"ドント式\" = obj1, \"ヘア式\" = obj2, \"サン＝ラゲ式\" = obj3)) |&gt; \n  print(subset = c(\"自民\", \"公明\", \"立憲\", \"共産\", \"維新\"))\n\n  Party ドント式 ヘア式 サン＝ラゲ式\n1  自民       67     62           63\n2  公明       24     23           24\n3  立憲       40     36           36\n4  共産       10     13           13\n5  維新       26     26           26\n\ncompare(list(\"ドント式\" = obj1, \"ヘア式\" = obj2, \"サン＝ラゲ式\" = obj3)) |&gt; \n  print(prop = TRUE, use_gt = TRUE)\n\n\n\n\n\n\n\n\nParty\nドント式\nヘア式\nサン＝ラゲ式\n\n\n\n\n自民\n0.381\n0.352\n0.358\n\n\n公明\n0.136\n0.131\n0.136\n\n\n立憲\n0.227\n0.205\n0.205\n\n\n共産\n0.057\n0.074\n0.074\n\n\n維新\n0.148\n0.148\n0.148\n\n\n国民\n0.028\n0.045\n0.040\n\n\n社民\n0.000\n0.006\n0.006\n\n\nれ新\n0.023\n0.040\n0.034\n\n\nN党\n0.000\n0.000\n0.000\n\n\n支なし\n0.000\n0.000\n0.000\n\n\n第一\n0.000\n0.000\n0.000\n\n\nやまと\n0.000\n0.000\n0.000\n\n\nコロナ\n0.000\n0.000\n0.000\n\n\n\n\n\n\n\ncompare(list(\"ドント式\" = obj1, \"ヘア式\" = obj2, \"サン＝ラゲ式\" = obj3)) |&gt; \n  plot()\n\n\n\n\n\n\n\ncompare(list(\"ドント式\" = obj1, \"ヘア式\" = obj2, \"サン＝ラゲ式\" = obj3)) |&gt; \n  plot(facet = TRUE)\n\n\n\n\n\n\n\ncompare(list(\"ドント式\" = obj1, \"ヘア式\" = obj2, \"サン＝ラゲ式\" = obj3)) |&gt; \n  plot(subset_p = c(\"自民\", \"公明\", \"立憲\", \"共産\", \"維新\", \n                    \"国民\", \"社民\", \"れ新\", \"N党\"),\n       facet = TRUE, facet_col = 3, free_y = FALSE)\n\n\n\n\n\n\n\n\n\n\nDisproportionality\n\ncompare(list(index(obj1), index(obj2), index(obj3)))\n\n            ID                         Index  Model1   Model2  Model3\n1       dhondt                       D’Hondt 1.13647 1.055589 1.10148\n2       monroe                        Monroe 0.05321 0.020396 0.02505\n3       maxdev    Maximum Absolute Deviation 0.03413 0.013865 0.01387\n4          rae                           Rae 0.01256 0.004263 0.00577\n5           lh             Loosemore & Hanby 0.08162 0.027708 0.03753\n6      grofman                       Grofman 0.03335 0.011323 0.01534\n7     lijphart                      Lijphart 0.03071 0.005143 0.00798\n8    gallagher                     Gallagher 0.04129 0.015827 0.01944\n9  g_gallagher         Generalized Gallagher 0.04129 0.015827 0.01944\n10       gatev                         Gatev 0.08744 0.034607 0.04227\n11    ryabtsev                      Ryabtsev 0.06195 0.024478 0.02990\n12      szalai                        Szalai 0.68738 0.636499 0.63706\n13    w_szalai               Weighted Szalai 0.15384 0.105784 0.10847\n14          ap          Aleskerov & Platonov 1.09773 1.029574 1.04611\n15        gini                          Gini 0.07989 0.032180 0.04213\n16    atkinson                      Atkinson 1.00000 1.000000 1.00000\n17          sl                  Sainte-Laguë 0.05825 0.024911 0.02720\n18          cs                 Cox & Shugart 1.13266 1.035874 1.05312\n19      farina                        Farina 0.10153 0.047980 0.05482\n20      ortona                        Ortona 0.12490 0.042402 0.05743\n21          cd          Cosine Dissimilarity 0.00417 0.000932 0.00122\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.12008 0.052662 0.09213\n23         arr                  Lebeda’s ARR 0.06769 0.072872 0.06984\n24         srr                  Lebeda’s SRR 0.04488 0.023669 0.03500\n25        wdrr                 Lebeda’s WDRR 0.09444 0.036026 0.05573\n26          kl     Kullback-Leibler Surprise 0.04684 0.021767 0.02292\n27          lr    Likelihood Ratio Statistic     Inf      Inf     Inf\n28       chisq                   Chi Squared 0.03308 0.026543 0.02888\n29   hellinger            Hellinger Distance 0.14218 0.098133 0.09959\n30          ad              alpha-Divergence 0.02912 0.012455 0.01360\n\ncompare(list(\"D'Hondt\"      = index(obj1), \n             \"Hare\"         = index(obj2), \n             \"Sainte-Laguë\" = index(obj3)))\n\n            ID                         Index D'Hondt     Hare Sainte-Laguë\n1       dhondt                       D’Hondt 1.13647 1.055589      1.10148\n2       monroe                        Monroe 0.05321 0.020396      0.02505\n3       maxdev    Maximum Absolute Deviation 0.03413 0.013865      0.01387\n4          rae                           Rae 0.01256 0.004263      0.00577\n5           lh             Loosemore & Hanby 0.08162 0.027708      0.03753\n6      grofman                       Grofman 0.03335 0.011323      0.01534\n7     lijphart                      Lijphart 0.03071 0.005143      0.00798\n8    gallagher                     Gallagher 0.04129 0.015827      0.01944\n9  g_gallagher         Generalized Gallagher 0.04129 0.015827      0.01944\n10       gatev                         Gatev 0.08744 0.034607      0.04227\n11    ryabtsev                      Ryabtsev 0.06195 0.024478      0.02990\n12      szalai                        Szalai 0.68738 0.636499      0.63706\n13    w_szalai               Weighted Szalai 0.15384 0.105784      0.10847\n14          ap          Aleskerov & Platonov 1.09773 1.029574      1.04611\n15        gini                          Gini 0.07989 0.032180      0.04213\n16    atkinson                      Atkinson 1.00000 1.000000      1.00000\n17          sl                  Sainte-Laguë 0.05825 0.024911      0.02720\n18          cs                 Cox & Shugart 1.13266 1.035874      1.05312\n19      farina                        Farina 0.10153 0.047980      0.05482\n20      ortona                        Ortona 0.12490 0.042402      0.05743\n21          cd          Cosine Dissimilarity 0.00417 0.000932      0.00122\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.12008 0.052662      0.09213\n23         arr                  Lebeda’s ARR 0.06769 0.072872      0.06984\n24         srr                  Lebeda’s SRR 0.04488 0.023669      0.03500\n25        wdrr                 Lebeda’s WDRR 0.09444 0.036026      0.05573\n26          kl     Kullback-Leibler Surprise 0.04684 0.021767      0.02292\n27          lr    Likelihood Ratio Statistic     Inf      Inf          Inf\n28       chisq                   Chi Squared 0.03308 0.026543      0.02888\n29   hellinger            Hellinger Distance 0.14218 0.098133      0.09959\n30          ad              alpha-Divergence 0.02912 0.012455      0.01360\n\ncompare(list(\"D'Hondt\"      = index(obj1), \n             \"Hare\"         = index(obj2), \n             \"Sainte-Laguë\" = index(obj3)))|&gt; \n  print(hide_id = TRUE)\n\n                           Index D'Hondt     Hare Sainte-Laguë\n1                        D’Hondt 1.13647 1.055589      1.10148\n2                         Monroe 0.05321 0.020396      0.02505\n3     Maximum Absolute Deviation 0.03413 0.013865      0.01387\n4                            Rae 0.01256 0.004263      0.00577\n5              Loosemore & Hanby 0.08162 0.027708      0.03753\n6                        Grofman 0.03335 0.011323      0.01534\n7                       Lijphart 0.03071 0.005143      0.00798\n8                      Gallagher 0.04129 0.015827      0.01944\n9          Generalized Gallagher 0.04129 0.015827      0.01944\n10                         Gatev 0.08744 0.034607      0.04227\n11                      Ryabtsev 0.06195 0.024478      0.02990\n12                        Szalai 0.68738 0.636499      0.63706\n13               Weighted Szalai 0.15384 0.105784      0.10847\n14          Aleskerov & Platonov 1.09773 1.029574      1.04611\n15                          Gini 0.07989 0.032180      0.04213\n16                      Atkinson 1.00000 1.000000      1.00000\n17                  Sainte-Laguë 0.05825 0.024911      0.02720\n18                 Cox & Shugart 1.13266 1.035874      1.05312\n19                        Farina 0.10153 0.047980      0.05482\n20                        Ortona 0.12490 0.042402      0.05743\n21          Cosine Dissimilarity 0.00417 0.000932      0.00122\n22 Lebeda’s RR (Mixture D’Hondt) 0.12008 0.052662      0.09213\n23                  Lebeda’s ARR 0.06769 0.072872      0.06984\n24                  Lebeda’s SRR 0.04488 0.023669      0.03500\n25                 Lebeda’s WDRR 0.09444 0.036026      0.05573\n26     Kullback-Leibler Surprise 0.04684 0.021767      0.02292\n27    Likelihood Ratio Statistic     Inf      Inf          Inf\n28                   Chi Squared 0.03308 0.026543      0.02888\n29            Hellinger Distance 0.14218 0.098133      0.09959\n30              alpha-Divergence 0.02912 0.012455      0.01360\n\ncompare(list(\"D'Hondt\"      = index(obj1), \n             \"Hare\"         = index(obj2), \n             \"Sainte-Laguë\" = index(obj3))) |&gt; \n  print(subset  = c(\"dhondt\", \"gallagher\", \"lh\", \"ad\"),\n        hide_id = TRUE,\n        use_gt  = TRUE)\n\n\n\n\n\n\n\n\nIndex\nD'Hondt\nHare\nSainte-Laguë\n\n\n\n\nD’Hondt\n1.136\n1.056\n1.101\n\n\nLoosemore & Hanby\n0.082\n0.028\n0.038\n\n\nGallagher\n0.041\n0.016\n0.019\n\n\nalpha-Divergence\n0.029\n0.012\n0.014\n\n\n\n\n\n\n\n\n\ncompare(list(\"D'Hondt\"      = index(obj1), \n             \"Hare\"         = index(obj2), \n             \"Sainte-Laguë\" = index(obj3))) |&gt; \n  plot() +\n  ggplot2::labs(x = \"Values\", y = \"Indices\", fill = \"Method\")\n\nDon't know how to automatically pick scale for object of type &lt;prcalc_index&gt;.\nDefaulting to continuous.\n\n\n\n\n\n\n\n\n\n\n\nDecomposition\n\nobj4 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20),\n               method = \"dt\")\n\nobj5 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"dt\")\n\nobj6 &lt;- prcalc(jp_lower_2021,\n               m = c(8, 13, 19, 23, 19, 11, 20, 29, 10, 5, 19),\n               method = \"msl\")\n\ncompare(list(\"D'Hondt\"                           = decompose(obj4),\n             \"D'Hondt + Modified magnitudes\"     = decompose(obj5),\n             \"Modified-SL + Modified magnitudes\" = decompose(obj6))) \n\n              Type     D'Hondt D'Hondt + Modified magnitudes\n1 Alpha-divergence 0.054938814                  0.0479196362\n2  Reapportionment 0.002314718                  0.0003013664\n3    Redistricting 0.052624096                  0.0476182698\n  Modified-SL + Modified magnitudes\n1                      0.0397194583\n2                      0.0003013664\n3                      0.0394180919\n\ncompare(list(\"D'Hondt\"                          = decompose(obj4),\n             \"D'Hondt\\nModified magnitudes\"     = decompose(obj5),\n             \"Modified-SL\\nModified magnitudes\" = decompose(obj6)))  |&gt; \n  plot()\n\n\n\n\n\n\n\ncompare(list(\"D'Hondt\"                           = decompose(obj4),\n             \"D'Hondt + Modified magnitudes\"     = decompose(obj5),\n             \"Modified-SL + Modified magnitudes\" = decompose(obj6))) |&gt;\n  plot(facet = TRUE, value_type = \"text\", digits = 5)"
  },
  {
    "objectID": "vignettes/07_dataset.html",
    "href": "vignettes/07_dataset.html",
    "title": "Sample Dataset",
    "section": "",
    "text": "1st column is the name of the political party, 2nd and subsequent columns are the number of votes received in each block.\n\n\n\nName\nCountry\nYear\nType\nBlocks\n\n\n\n\njp_lower_2009\nJapan\n2009\nLower house\n11\n\n\njp_lower_2012\nJapan\n2012\nLower house\n11\n\n\njp_lower_2014\nJapan\n2014\nLower house\n11\n\n\njp_lower_2017\nJapan\n2017\nLower house\n11\n\n\njp_lower_2021\nJapan\n2021\nLower house\n11\n\n\njp_upper_2019\nJapan\n2019\nUpper house\n1\n\n\nkr_lower_2004\nKorea\n2004\nLower house\n1\n\n\nkr_lower_2008\nKorea\n2008\nLower house\n1\n\n\nkr_lower_2012\nKorea\n2012\nLower house\n1\n\n\nkr_lower_2016\nKorea\n2016\nLower house\n1"
  },
  {
    "objectID": "vignettes/07_dataset.html#electoral-result",
    "href": "vignettes/07_dataset.html#electoral-result",
    "title": "Sample Dataset",
    "section": "",
    "text": "1st column is the name of the political party, 2nd and subsequent columns are the number of votes received in each block.\n\n\n\nName\nCountry\nYear\nType\nBlocks\n\n\n\n\njp_lower_2009\nJapan\n2009\nLower house\n11\n\n\njp_lower_2012\nJapan\n2012\nLower house\n11\n\n\njp_lower_2014\nJapan\n2014\nLower house\n11\n\n\njp_lower_2017\nJapan\n2017\nLower house\n11\n\n\njp_lower_2021\nJapan\n2021\nLower house\n11\n\n\njp_upper_2019\nJapan\n2019\nUpper house\n1\n\n\nkr_lower_2004\nKorea\n2004\nLower house\n1\n\n\nkr_lower_2008\nKorea\n2008\nLower house\n1\n\n\nkr_lower_2012\nKorea\n2012\nLower house\n1\n\n\nkr_lower_2016\nKorea\n2016\nLower house\n1"
  },
  {
    "objectID": "vignettes/07_dataset.html#census",
    "href": "vignettes/07_dataset.html#census",
    "title": "Sample Dataset",
    "section": "Census",
    "text": "Census\n1st column is the name of the state / prefecture, 2nd column is the population.\n\n\n\nName\nCountry\nYear\n\n\n\n\njp_census_1920\nJapan\n1920\n\n\njp_census_1945\nJapan\n1945\n\n\njp_census_1970\nJapan\n1970\n\n\njp_census_2015\nJapan\n2015\n\n\nus_census_2020\nUS\n2020"
  },
  {
    "objectID": "vignettes/05_list_of_methods.html",
    "href": "vignettes/05_list_of_methods.html",
    "title": "List of methods",
    "section": "",
    "text": "\\(r(k)\\): \\(k+1\\)th divisor\n\n\n\n\n\n\n\n\n\n\nMethod\nArgument\nRule\nApprox. first values\n\n\n\n\nD’hondt / Jefferson\n\"d'hondt\", \"dt\", or \"jefferson\"\n\\(r(k) = k + 1\\)\n1, 2, 3, 4, …\n\n\nAdams / Cambridge\n\"adams\" or \"cambridge\"\n\\(r(k) = k\\)\n0, 1, 2, 3, …\n\n\nSainte-Laguë / Webster\n\"sl\", \"sainte-lague\", or \"webster\"\n\\(r(k) = k + 0.5\\)\n0.5, 1.5, 2.5, 3.5, …\n\n\nModified Sainte-Laguë\n\"msl\"\n\\(r(k) = k + 0.5, r_1 = 0.7\\)\n0.7, 1.5, 2.5, 3.5, …\n\n\nDanish\n\"danish\"\n\\(r(k) = k + \\frac{1}{3}\\)\n0.33, 1.33, 2.33, 3.33, …\n\n\nImperiali\n\"imperiali\"\n\\(r(k) = k + 2\\)\n2, 3, 4, 5, …\n\n\nHuntington-Hill\n\"hh\" or \"huntington-hill\"\n\\(r(k) = \\sqrt{k (k + 1)}\\)\n0, 1.41, 2.45, 3.46, …\n\n\nDean\n\"dean\"\n\\(r(k) = \\frac{2}{\\frac{1}{k} + \\frac{1}{k + 1}}\\)\n0, 1.33, 2.40, 3.43, …\n\n\n\\(\\alpha\\)-divergence\n\"ad\"\nSee Note 1\nSee Note 1\n\n\nCustom\n\"custom\"\nSee Note 2\nSee Note 2"
  },
  {
    "objectID": "vignettes/05_list_of_methods.html#highest-averages-methods",
    "href": "vignettes/05_list_of_methods.html#highest-averages-methods",
    "title": "List of methods",
    "section": "",
    "text": "\\(r(k)\\): \\(k+1\\)th divisor\n\n\n\n\n\n\n\n\n\n\nMethod\nArgument\nRule\nApprox. first values\n\n\n\n\nD’hondt / Jefferson\n\"d'hondt\", \"dt\", or \"jefferson\"\n\\(r(k) = k + 1\\)\n1, 2, 3, 4, …\n\n\nAdams / Cambridge\n\"adams\" or \"cambridge\"\n\\(r(k) = k\\)\n0, 1, 2, 3, …\n\n\nSainte-Laguë / Webster\n\"sl\", \"sainte-lague\", or \"webster\"\n\\(r(k) = k + 0.5\\)\n0.5, 1.5, 2.5, 3.5, …\n\n\nModified Sainte-Laguë\n\"msl\"\n\\(r(k) = k + 0.5, r_1 = 0.7\\)\n0.7, 1.5, 2.5, 3.5, …\n\n\nDanish\n\"danish\"\n\\(r(k) = k + \\frac{1}{3}\\)\n0.33, 1.33, 2.33, 3.33, …\n\n\nImperiali\n\"imperiali\"\n\\(r(k) = k + 2\\)\n2, 3, 4, 5, …\n\n\nHuntington-Hill\n\"hh\" or \"huntington-hill\"\n\\(r(k) = \\sqrt{k (k + 1)}\\)\n0, 1.41, 2.45, 3.46, …\n\n\nDean\n\"dean\"\n\\(r(k) = \\frac{2}{\\frac{1}{k} + \\frac{1}{k + 1}}\\)\n0, 1.33, 2.40, 3.43, …\n\n\n\\(\\alpha\\)-divergence\n\"ad\"\nSee Note 1\nSee Note 1\n\n\nCustom\n\"custom\"\nSee Note 2\nSee Note 2"
  },
  {
    "objectID": "vignettes/05_list_of_methods.html#largest-reminder-method",
    "href": "vignettes/05_list_of_methods.html#largest-reminder-method",
    "title": "List of methods",
    "section": "Largest reminder method",
    "text": "Largest reminder method\n\n\\(Q\\): Quota\n\\(v\\): Total votes\n\\(m\\): Magnitude (total seats)\n\n\n\n\n\n\n\n\n\n\nMethod\nArgument\nQuota\n\n\n\n\n\nHare-Niemeyer quota\n\"hn\", \"hare\", or \"hare-niemeyer\"\n\\(Q = \\frac{v}{m}\\)\n\n\n\nDroop quota\n\"droop\"\n\\(Q = 1 + \\frac{v}{1 + m}\\)\n\n\n\nHagenbach-Bischoff quota\n\"hb\" or \"hagenbach-bischoff\"\n\\(Q = \\frac{v}{1 + m}\\)\n\n\n\nImperiali quota\n\"iq\" or \"imperiali quota\"\n\\(Q = \\frac{v}{2 + m}\\)\n\n\n\n\n\n\n\n\n\n\nNote 1: About \\(\\alpha\\)-divergence\n\n\n\n\n\nDivisor (\\(r(k)\\)) is calculated as follow:\n\\[\nr(k) = \\begin{cases}\n\\frac{1}{e} \\frac{(k + 1)^{k + 1}}{k^k}& \\mbox{if}\\quad\\alpha = 1,\\\\\n\\frac{1}{\\log{\\frac{k + 1}{k}}} & \\mbox{if}\\quad\\alpha = 0,\\\\\n\\Bigl(\\frac{(k + 1)^\\alpha - k^\\alpha}{\\alpha}\\Bigr)^{\\frac{1}{\\alpha - 1}} & \\mbox{otherwise.}\\\\\n\\end{cases}\n\\]\n\n\n\n\\(\\alpha\\)\nMethod\n\n\n\n\n+\\(\\infty\\)\nD’hondt / Jefferson\n\n\n3\n\\(\\frac{1}{3}\\)\n\n\n2\nSainte-Laguë / Webster\n\n\n1\nTheil\n\n\n0\nTheil and Schrage\n\n\n-1\nHill\n\n\n-4\n\\(\\simeq\\)Dean\n\n\n-\\(\\infty\\)\nAdams / Cambridge\n\n\n\nPlease note that extra parameter \\(\\alpha\\) is required (extra).\n\nExample 1Example 2\n\n\n\nlibrary(PRcalc)\ndata(jp_upper_2019)\n# Jefferson vs alpha = 10\nlist(prcalc(jp_upper_2019, m = 50, method = \"dt\"),\n     prcalc(jp_upper_2019, m = 50, method = \"ad\", extra = 10)) |&gt; \n  compare() |&gt; \n  print(use_gt = TRUE)\n\n\n\n\n\n\n\n\nParty\nModel1\nModel2\n\n\n\n\n自民\n18\n18\n\n\n公明\n7\n7\n\n\n立憲\n8\n8\n\n\n維新\n5\n5\n\n\n共産\n5\n5\n\n\n国民\n3\n3\n\n\nれいわ\n2\n2\n\n\n社民\n1\n1\n\n\nN国\n1\n1\n\n\n安楽死\n0\n0\n\n\n幸福\n0\n0\n\n\nオリーブ\n0\n0\n\n\n労働者\n0\n0\n\n\n\n\n\n\n\n\n\n\n\n# Dean vs alpha = -4\nlist(prcalc(jp_upper_2019, m = 50, method = \"dean\"),\n     prcalc(jp_upper_2019, m = 50, method = \"ad\", extra = -4)) |&gt; \n  compare() |&gt; \n  print(use_gt = TRUE)\n\n\n\n\n\n\n\n\nParty\nModel1\nModel2\n\n\n\n\n自民\n17\n17\n\n\n公明\n6\n6\n\n\n立憲\n7\n7\n\n\n維新\n5\n5\n\n\n共産\n4\n4\n\n\n国民\n3\n3\n\n\nれいわ\n2\n2\n\n\n社民\n1\n1\n\n\nN国\n1\n1\n\n\n安楽死\n1\n1\n\n\n幸福\n1\n1\n\n\nオリーブ\n1\n1\n\n\n労働者\n1\n1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote 2: About \"custom\" method\n\n\n\n\n\nPlease note that extra parameter (extra). extra must be length of maximum value of m or longer.\n\nlist(prcalc(jp_upper_2019, m = 50, method = \"msl\"),\n     prcalc(jp_upper_2019, m = 50, method = \"custom\", \n            extra = c(1.4, seq(3, 100, by = 2)))) |&gt; \n  compare() |&gt; \n  print(use_gt = TRUE)\n\n\n\n\n\n\n\n\nParty\nModel1\nModel2\n\n\n\n\n自民\n18\n18\n\n\n公明\n7\n7\n\n\n立憲\n8\n8\n\n\n維新\n5\n5\n\n\n共産\n5\n5\n\n\n国民\n3\n3\n\n\nれいわ\n2\n2\n\n\n社民\n1\n1\n\n\nN国\n1\n1\n\n\n安楽死\n0\n0\n\n\n幸福\n0\n0\n\n\nオリーブ\n0\n0\n\n\n労働者\n0\n0"
  },
  {
    "objectID": "vignettes/02_index.html",
    "href": "vignettes/02_index.html",
    "title": "Disproportionality",
    "section": "",
    "text": "library(PRcalc)\n\n\nAttaching package: 'PRcalc'\n\n\nThe following object is masked from 'package:stats':\n\n    decompose"
  },
  {
    "objectID": "vignettes/02_index.html#preparation",
    "href": "vignettes/02_index.html#preparation",
    "title": "Disproportionality",
    "section": "Preparation",
    "text": "Preparation\n\ndata(\"jp_lower_2021\")\njp_lower_2021\n\n    Party Hokkaido  Tohoku Kitakanto Minamikanto   Tokyo Hokuriku   Tokai\n1    自民   863300 1628233   2172065     2590787 2000084  1468380 2515841\n2    公明   294371  456287    823930      850667  715450   322535  784976\n3    立憲   682913  991505   1391149     1651562 1293281   773076 1485947\n4    共産   207189  292830    444115      534493  670340   225551  408606\n5    維新   215344  258690    617531      863897  858577   361476  694630\n6    国民    73621  195754    298056      384482  306180   133600  382734\n7    社民    41248  101442     97963      124447   92995    71185   84220\n8    れ新   102086  143265    239592      302675  360387   111281  273208\n9     N党    42916   52664     87702      111298   92353    43529   98238\n10 支なし    46142       0         0           0       0        0       0\n11   第一        0       0         0           0   33661        0       0\n12 やまと        0       0         0           0   16970        0       0\n13 コロナ        0       0         0           0    6620        0       0\n     Kinki Chugoku Shikoku  Kyushu\n1  2407699 1352723  664805 2250966\n2  1155683  436220  233407 1040756\n3  1090666  573324  291871 1266801\n4   736156  173117  108021  365658\n5  3180219  286302  173826  540338\n6   303480  113899  122082  279509\n7   100980   52638   30249  221221\n8   292483   94446   52941  243284\n9   111539   36758   21285   98506\n10       0       0       0       0\n11       0       0       0       0\n12       0       0       0       0\n13       0       0       0       0\n\nobj1 &lt;- prcalc(jp_lower_2021, \n               m = c(8, 13, 19, 22, 17, 11, 21, 28, 11, 6, 20), \n               method = \"dt\")\n\nobj1\n\nRaw:\n    Party Hokkaido  Tohoku Kitakanto Minamikanto   Tokyo Hokuriku   Tokai\n1    自民   863300 1628233   2172065     2590787 2000084  1468380 2515841\n2    公明   294371  456287    823930      850667  715450   322535  784976\n3    立憲   682913  991505   1391149     1651562 1293281   773076 1485947\n4    共産   207189  292830    444115      534493  670340   225551  408606\n5    維新   215344  258690    617531      863897  858577   361476  694630\n6    国民    73621  195754    298056      384482  306180   133600  382734\n7    社民    41248  101442     97963      124447   92995    71185   84220\n8    れ新   102086  143265    239592      302675  360387   111281  273208\n9     N党    42916   52664     87702      111298   92353    43529   98238\n10 支なし    46142       0         0           0       0        0       0\n11   第一        0       0         0           0   33661        0       0\n12 やまと        0       0         0           0   16970        0       0\n13 コロナ        0       0         0           0    6620        0       0\n     Kinki Chugoku Shikoku  Kyushu    Total\n1  2407699 1352723  664805 2250966 19914883\n2  1155683  436220  233407 1040756  7114282\n3  1090666  573324  291871 1266801 11492095\n4   736156  173117  108021  365658  4166076\n5  3180219  286302  173826  540338  8050830\n6   303480  113899  122082  279509  2593397\n7   100980   52638   30249  221221  1018588\n8   292483   94446   52941  243284  2215648\n9   111539   36758   21285   98506   796788\n10       0       0       0       0    46142\n11       0       0       0       0    33661\n12       0       0       0       0    16970\n13       0       0       0       0     6620\n\nResult:\n    Party Hokkaido Tohoku Kitakanto Minamikanto Tokyo Hokuriku Tokai Kinki\n1    自民        3      6         7           8     6        5     8     8\n2    公明        1      1         3           3     2        1     3     3\n3    立憲        3      4         5           5     4        3     5     3\n4    共産        0      1         1           1     2        1     1     2\n5    維新        1      1         2           3     2        1     2    10\n6    国民        0      0         1           1     0        0     1     1\n7    社民        0      0         0           0     0        0     0     0\n8    れ新        0      0         0           1     1        0     1     1\n9     N党        0      0         0           0     0        0     0     0\n10 支なし        0      0         0           0     0        0     0     0\n11   第一        0      0         0           0     0        0     0     0\n12 やまと        0      0         0           0     0        0     0     0\n13 コロナ        0      0         0           0     0        0     0     0\n   Chugoku Shikoku Kyushu Total\n1        5       3      8    67\n2        2       1      4    24\n3        3       1      4    40\n4        0       0      1    10\n5        1       1      2    26\n6        0       0      1     5\n7        0       0      0     0\n8        0       0      0     4\n9        0       0      0     0\n10       0       0      0     0\n11       0       0      0     0\n12       0       0      0     0\n13       0       0      0     0\n\nParameters:\n  Allocation method: D'Hondt (Jefferson) method \n  Extra parameter: \n  Threshold: 0 \n\nMagnitude: \n   Hokkaido      Tohoku   Kitakanto Minamikanto       Tokyo    Hokuriku \n          8          13          19          22          17          11 \n      Tokai       Kinki     Chugoku     Shikoku      Kyushu \n         21          28          11           6          20"
  },
  {
    "objectID": "vignettes/02_index.html#calculation-of-disproportionality-indices.",
    "href": "vignettes/02_index.html#calculation-of-disproportionality-indices.",
    "title": "Disproportionality",
    "section": "Calculation of disproportionality indices.",
    "text": "Calculation of disproportionality indices.\n\nSome parameters are required for calculation of indices. Default is 2.\n\nk：For Generalized Gallagher\neta：For Atkinson\nalpha：For \\(\\alpha\\)-divergence\n\n\n\nindex1 &lt;- index(obj1)\nindex1\n\n            ID                         Index   Value\n1       dhondt                       D’Hondt 1.13647\n2       monroe                        Monroe 0.05321\n3       maxdev    Maximum Absolute Deviation 0.03413\n4          rae                           Rae 0.01256\n5           lh             Loosemore & Hanby 0.08162\n6      grofman                       Grofman 0.03335\n7     lijphart                      Lijphart 0.03071\n8    gallagher                     Gallagher 0.04129\n9  g_gallagher         Generalized Gallagher 0.04129\n10       gatev                         Gatev 0.08744\n11    ryabtsev                      Ryabtsev 0.06195\n12      szalai                        Szalai 0.68738\n13    w_szalai               Weighted Szalai 0.15384\n14          ap          Aleskerov & Platonov 1.09773\n15        gini                          Gini 0.07989\n16    atkinson                      Atkinson 1.00000\n17          sl                  Sainte-Laguë 0.05825\n18          cs                 Cox & Shugart 1.13266\n19      farina                        Farina 0.10153\n20      ortona                        Ortona 0.12490\n21          cd          Cosine Dissimilarity 0.00417\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.12008\n23         arr                  Lebeda’s ARR 0.06769\n24         srr                  Lebeda’s SRR 0.04488\n25        wdrr                 Lebeda’s WDRR 0.09444\n26          kl     Kullback-Leibler Surprise 0.04684\n27          lr    Likelihood Ratio Statistic     Inf\n28       chisq                   Chi Squared 0.03308\n29   hellinger            Hellinger Distance 0.14218\n30          ad              alpha-Divergence 0.02912\n\nindex2 &lt;- index(obj1, alpha = 1)\nindex2\n\n            ID                         Index   Value\n1       dhondt                       D’Hondt 1.13647\n2       monroe                        Monroe 0.05321\n3       maxdev    Maximum Absolute Deviation 0.03413\n4          rae                           Rae 0.01256\n5           lh             Loosemore & Hanby 0.08162\n6      grofman                       Grofman 0.03335\n7     lijphart                      Lijphart 0.03071\n8    gallagher                     Gallagher 0.04129\n9  g_gallagher         Generalized Gallagher 0.04129\n10       gatev                         Gatev 0.08744\n11    ryabtsev                      Ryabtsev 0.06195\n12      szalai                        Szalai 0.68738\n13    w_szalai               Weighted Szalai 0.15384\n14          ap          Aleskerov & Platonov 1.09773\n15        gini                          Gini 0.07989\n16    atkinson                      Atkinson 1.00000\n17          sl                  Sainte-Laguë 0.05825\n18          cs                 Cox & Shugart 1.13266\n19      farina                        Farina 0.10153\n20      ortona                        Ortona 0.12490\n21          cd          Cosine Dissimilarity 0.00417\n22          rr Lebeda’s RR (Mixture D’Hondt) 0.12008\n23         arr                  Lebeda’s ARR 0.06769\n24         srr                  Lebeda’s SRR 0.04488\n25        wdrr                 Lebeda’s WDRR 0.09444\n26          kl     Kullback-Leibler Surprise 0.04684\n27          lr    Likelihood Ratio Statistic     Inf\n28       chisq                   Chi Squared 0.03308\n29   hellinger            Hellinger Distance 0.14218\n30          ad              alpha-Divergence 0.04684\n\n\n\nPrinting\n\n# Extract a index.\nindex1[\"gallagher\"]\n\n gallagher \n0.04128719 \n\n# Extract a subset of indices.\nprint(index1, subset = c(\"dhondt\", \"gallagher\", \"lh\", \"ad\"))\n\n         ID             Index  Value\n1    dhondt           D’Hondt 1.1365\n2        lh Loosemore & Hanby 0.0816\n3 gallagher         Gallagher 0.0413\n4        ad  alpha-Divergence 0.0291\n\n# Hide ID column.\nprint(index1, \n      subset  = c(\"dhondt\", \"gallagher\", \"lh\", \"ad\"),\n      hide_id = TRUE)\n\n              Index  Value\n1           D’Hondt 1.1365\n2 Loosemore & Hanby 0.0816\n3         Gallagher 0.0413\n4  alpha-Divergence 0.0291\n\n# Use {gt} package\nprint(index2, \n      subset  = c(\"dhondt\", \"gallagher\", \"lh\", \"ad\"),\n      hide_id = TRUE,\n      use_gt  = TRUE)\n\n\n\n\n\n\n\n\nIndex\nValue\n\n\n\n\nD’Hondt\n1.136\n\n\nLoosemore & Hanby\n0.082\n\n\nGallagher\n0.041\n\n\nalpha-Divergence\n0.047\n\n\n\n\n\n\n\n\n\n\nVisulaization\n\nplot(index2)\n\nDon't know how to automatically pick scale for object of type &lt;prcalc_index&gt;.\nDefaulting to continuous.\n\n\n\n\n\n\n\n\nplot(index2, style = \"lollipop\") # lollipop chart\n\nDon't know how to automatically pick scale for object of type &lt;prcalc_index&gt;.\nDefaulting to continuous.\n\n\n\n\n\n\n\n\n\n\nplot(index2, index = c(\"dhondt\", \"gallagher\", \"lh\", \"ad\"))\n\nDon't know how to automatically pick scale for object of type &lt;prcalc_index&gt;.\nDefaulting to continuous."
  },
  {
    "objectID": "NEWS.html",
    "href": "NEWS.html",
    "title": "PRcalc",
    "section": "",
    "text": "decompose()のバグ修正\n\n\n\n\n\ndecompose()、plot.prcalc_decomposition_compare()の追加\ncompare()関数がprcalc.prcalc_decompositionクラスにも対応\n\n\n\n\n\nprcalc_indexクラス構造の変更\n\n\n\n\n\nindex()関数のバグ修正\n\n\n\n\n\nCode refactoring\n\n\n\n\n\n大幅なアップデート (というか、作り直しました)\n\n\n\n\n\nバグ修正\n\n\n\n\n\n新しいサンプルデータjapanese.sample2の追加\nブロック制比例代表が計算可能\n\n\n\n\n\nパッケージ化\nサンプルデータの追加\n\n\n\n\n\nvoteの実引数としてdata.frame型が使用可能\n\n\n\n\n\n阻止条項が指定可能\n\n\n\n\n\nnparty引数の削除\n仮引数voteshareの名称をvoteに変更\n非比例性指標 (Gallagher Index) の出力\n関数の効率化\n例を出力するPR.calc.ex()関数の追加\n\n\n\n\n\n初公開",
    "crumbs": [
      "News"
    ]
  },
  {
    "objectID": "NEWS.html#news",
    "href": "NEWS.html#news",
    "title": "PRcalc",
    "section": "",
    "text": "decompose()のバグ修正\n\n\n\n\n\ndecompose()、plot.prcalc_decomposition_compare()の追加\ncompare()関数がprcalc.prcalc_decompositionクラスにも対応\n\n\n\n\n\nprcalc_indexクラス構造の変更\n\n\n\n\n\nindex()関数のバグ修正\n\n\n\n\n\nCode refactoring\n\n\n\n\n\n大幅なアップデート (というか、作り直しました)\n\n\n\n\n\nバグ修正\n\n\n\n\n\n新しいサンプルデータjapanese.sample2の追加\nブロック制比例代表が計算可能\n\n\n\n\n\nパッケージ化\nサンプルデータの追加\n\n\n\n\n\nvoteの実引数としてdata.frame型が使用可能\n\n\n\n\n\n阻止条項が指定可能\n\n\n\n\n\nnparty引数の削除\n仮引数voteshareの名称をvoteに変更\n非比例性指標 (Gallagher Index) の出力\n関数の効率化\n例を出力するPR.calc.ex()関数の追加\n\n\n\n\n\n初公開",
    "crumbs": [
      "News"
    ]
  },
  {
    "objectID": "CITATION.html",
    "href": "CITATION.html",
    "title": "Citation",
    "section": "",
    "text": "Citation\nTo cite package ‘PRcalc’ in publications use:\n\n  Song J, Kamahara Y (????). _PRcalc: A Proportional\n  Representation Calculator_. R package version\n  0.8.4, &lt;https://github.com/JaehyunSong/PRcalc/&gt;.\n\nA BibTeX entry for LaTeX users is\n\n  @Manual{,\n    title = {PRcalc: A Proportional Representation Calculator},\n    author = {Jaehyun Song and Yuta Kamahara},\n    note = {R package version 0.8.4},\n    url = {https://github.com/JaehyunSong/PRcalc/},\n  }",
    "crumbs": [
      "Citation"
    ]
  }
]